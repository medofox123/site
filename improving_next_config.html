<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"><meta name="viewport" content="width=device-width"><title>Improving the Next.js config ─ blog ─ nuro</title><meta name="robots" content="index,follow"><meta name="googlebot" content="index,follow"><meta name="description" content="The Next.js config file feels underutilized. Here&#x27;s how it could be better"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content="@nurodev"><meta name="twitter:creator" content="@nurodev"><meta property="og:title" content="Improving the Next.js config"><meta property="og:description" content="The Next.js config file feels underutilized. Here&#x27;s how it could be better"><meta property="og:url" content="https://nuro.dev//blog/improving_next_config"><meta property="og:image" content="https://images.unsplash.com/photo-1593720213411-697ba0ac0162?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&amp;ixlib=rb-1.2.1&amp;auto=format&amp;fit=crop&amp;w=1712&amp;q=80"><meta property="og:image:alt" content="The Next.js config file feels underutilized. Here&#x27;s how it could be better"><meta property="og:image:width" content="1280"><meta property="og:image:height" content="720"><link rel="canonical" href="https://nuro.dev//blog/improving_next_config"><meta name="next-head-count" content="17"><link rel="icon" type="image/png" href="images/favicon.png"><link rel="preload" href="/_next/static/css/d2da100e4e50d0d9.css" as="style"><link rel="stylesheet" href="css/d2da100e4e50d0d9.css" data-n-g><noscript data-n-css></noscript><script defer nomodule src="js/polyfills-c67a75d1b6f99dc8.js"></script><script id="next-themes-script" src="data:text/javascript;base64,IWZ1bmN0aW9uKCl7dHJ5IHt2YXIgZD1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xhc3NMaXN0O2QucmVtb3ZlKCdsaWdodCcsJ2RhcmsnLCdzeXN0ZW0nKTt2YXIgZT1sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndGhlbWUnKTtpZigic3lzdGVtIj09PWV8fCghZSYmdHJ1ZSkpe3ZhciB0PSIocHJlZmVycy1jb2xvci1zY2hlbWU6IGRhcmspIixtPXdpbmRvdy5tYXRjaE1lZGlhKHQpO2lmKG0ubWVkaWEhPT10fHxtLm1hdGNoZXMpe2Quc3R5bGUuY29sb3JTY2hlbWUgPSAnZGFyayc7ZC5hZGQoJ2RhcmsnKX1lbHNle2Quc3R5bGUuY29sb3JTY2hlbWUgPSAnbGlnaHQnO2QuYWRkKCdsaWdodCcpfX1lbHNlIGlmKGUpe2QuYWRkKGV8fCAnJyl9aWYoZT09PSdsaWdodCd8fGU9PT0nZGFyaycpZC5zdHlsZS5jb2xvclNjaGVtZT1lfWNhdGNoKGUpe319KCk=" defer data-nscript="beforeInteractive"></script><script src="js/webpack-393291bcbbaa1be3.js" defer></script><script src="js/framework-00a8d73f8e166d2f.js" defer></script><script src="js/main-f3ecd1ad2baba103.js" defer></script><script src="js/_app-25641d0bc73a0e42.js" defer></script><script src="js/%5Bslug%5D-caf17533422a137f.js" defer></script><script src="js/_buildManifest.js" defer></script><script src="js/_ssgManifest.js" defer></script><style id="__jsx-128ef65df0196604">code[class*="language-"],pre[class*="language-"]{--tw-bg-opacity:1;background-color:rgba(255,255,255,var(--tw-bg-opacity));--tw-text-opacity:1;color:rgba(167,169,172,var(--tw-text-opacity));font-family:"Fira Code","Fira Mono",Menlo,Consolas,"DejaVu Sans Mono",monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}.dark code[class*="language-"],.dark pre[class*="language-"]{--tw-bg-opacity:1;background-color:rgba(18,21,24,var(--tw-bg-opacity));--tw-text-opacity:1;color:rgba(202,203,205,var(--tw-text-opacity))}code[class*="language-"]::-moz-selection,code[class*="language-"] *::-moz-selection,pre[class*="language-"] *::-moz-selection{--tw-bg-opacity:1;background-color:rgba(0,0,0,var(--tw-bg-opacity));color:inherit}.dark code[class*="language-"]::-moz-selection,.dark code[class*="language-"] *::-moz-selection,.dark pre[class*="language-"] *::-moz-selection{--tw-bg-opacity:1;background-color:rgba(167,169,172,var(--tw-bg-opacity));--tw-bg-opacity:0.25}code[class*="language-"]::selection,code[class*="language-"] *::selection,pre[class*="language-"] *::selection{--tw-bg-opacity:1;background-color:rgba(0,0,0,var(--tw-bg-opacity));color:inherit}.dark code[class*="language-"]::selection,.dark code[class*="language-"] *::selection,.dark pre[class*="language-"] *::selection{--tw-bg-opacity:1;background-color:rgba(167,169,172,var(--tw-bg-opacity));--tw-bg-opacity:0.25}pre[class*="language-"]{margin-bottom:.375rem;overflow:auto;padding:1rem}:not(pre)>code[class*="language-"]{padding-top:.25rem;padding-bottom:.25rem;padding-left:.375rem;padding-right:.375rem;white-space:normal}@media print{code[class*="language-"],pre[class*="language-"]{text-shadow:none}}.token.comment,.token.prolog,.token.cdata{--tw-text-opacity:1;color:rgba(105,108,113,var(--tw-text-opacity))}.token.doctype,.token.punctuation,.token.entity{--tw-text-opacity:1;color:rgba(202,203,205,var(--tw-text-opacity))}.token.attr-name,.token.class-name,.token.boolean,.token.constant,.token.number,.token.atrule{--tw-text-opacity:1;color:rgba(245,158,11,var(--tw-text-opacity))}.token.keyword{--tw-text-opacity:1;color:rgba(236,72,153,var(--tw-text-opacity))}.token.property,.token.tag,.token.symbol,.token.deleted,.token.important{--tw-text-opacity:1;color:rgba(239,68,68,var(--tw-text-opacity))}.token.selector,.token.string,.token.char,.token.builtin,.token.inserted,.token.regex,.token.attr-value,.token.attr-value>.token.punctuation{--tw-text-opacity:1;color:rgba(16,185,129,var(--tw-text-opacity))}.token.variable,.token.operator,.token.function{--tw-text-opacity:1;color:rgba(59,130,246,var(--tw-text-opacity))}.token.url{color:hsl(187,47%,55%)}.token.attr-value>.token.punctuation.attr-equals,.token.special-attr>.token.attr-value>.token.value.css{color:hsl(220,14%,71%)}.language-css .token.selector{color:hsl(355,65%,65%)}.language-css .token.property{color:hsl(220,14%,71%)}.language-css .token.function,.language-css .token.url>.token.function{color:hsl(187,47%,55%)}.language-css .token.url>.token.string.url{color:hsl(95,38%,62%)}.language-css .token.important,.language-css .token.atrule .token.rule{color:hsl(286,60%,67%)}.language-javascript .token.operator{color:hsl(286,60%,67%)}.language-javascript .token.template-string>.token.interpolation>.token.interpolation-punctuation.punctuation{color:hsl(5,48%,51%)}.language-json .token.operator{color:hsl(220,14%,71%)}.language-json .token.null.keyword{color:hsl(29,54%,61%)}.language-markdown .token.url,.language-markdown .token.url>.token.operator,.language-markdown .token.url-reference.url>.token.string{color:hsl(220,14%,71%)}.language-markdown .token.url>.token.content{color:hsl(207,82%,66%)}.language-markdown .token.url>.token.url,.language-markdown .token.url-reference.url{color:hsl(187,47%,55%)}.language-markdown .token.blockquote.punctuation,.language-markdown .token.hr.punctuation{color:hsl(220,10%,40%);font-style:italic}.language-markdown .token.code-snippet{color:hsl(95,38%,62%)}.language-markdown .token.bold .token.content{color:hsl(29,54%,61%)}.language-markdown .token.italic .token.content{color:hsl(286,60%,67%)}.language-markdown .token.strike .token.content,.language-markdown .token.strike .token.punctuation,.language-markdown .token.list.punctuation,.language-markdown .token.title.important>.token.punctuation{color:hsl(355,65%,65%)}.token.bold{font-weight:bold}.token.comment,.token.italic{font-style:italic}.token.entity{cursor:help}.token.namespace{opacity:.8}.token.token.tab:not(:empty):before,.token.token.cr:before,.token.token.lf:before,.token.token.space:before{color:hsla(220,14%,71%,.15);text-shadow:none}div.code-toolbar>.toolbar.toolbar>.toolbar-item{margin-right:.4em}div.code-toolbar>.toolbar.toolbar>.toolbar-item>button,div.code-toolbar>.toolbar.toolbar>.toolbar-item>a,div.code-toolbar>.toolbar.toolbar>.toolbar-item>span{background:hsl(220,13%,26%);color:hsl(220,9%,55%);padding:.1em .4em}div.code-toolbar>.toolbar.toolbar>.toolbar-item>button:hover,div.code-toolbar>.toolbar.toolbar>.toolbar-item>button:focus,div.code-toolbar>.toolbar.toolbar>.toolbar-item>a:hover,div.code-toolbar>.toolbar.toolbar>.toolbar-item>a:focus,div.code-toolbar>.toolbar.toolbar>.toolbar-item>span:hover,div.code-toolbar>.toolbar.toolbar>.toolbar-item>span:focus{background:hsl(220,13%,28%);color:hsl(220,14%,71%)}.line-highlight.line-highlight{background:hsla(220,100%,80%,.04)}.line-highlight.line-highlight:before,.line-highlight.line-highlight[data-end]:after{background:hsl(220,13%,26%);color:hsl(220,14%,71%);padding:.1em .6em;-webkit-box-shadow:0 2px 0 0 rgba(0,0,0,.2);-moz-box-shadow:0 2px 0 0 rgba(0,0,0,.2);box-shadow:0 2px 0 0 rgba(0,0,0,.2)}pre[id].linkable-line-numbers.linkable-line-numbers span.line-numbers-rows>span:hover:before{background-color:hsla(220,100%,80%,.04)}.line-numbers.line-numbers .line-numbers-rows,.command-line .command-line-prompt{border-right-color:hsla(220,14%,71%,.15)}.line-numbers .line-numbers-rows>span:before,.command-line .command-line-prompt>span:before{color:hsl(220,14%,45%)}.rainbow-braces .token.token.punctuation.brace-level-1,.rainbow-braces .token.token.punctuation.brace-level-5,.rainbow-braces .token.token.punctuation.brace-level-9{color:hsl(355,65%,65%)}.rainbow-braces .token.token.punctuation.brace-level-2,.rainbow-braces .token.token.punctuation.brace-level-6,.rainbow-braces .token.token.punctuation.brace-level-10{color:hsl(95,38%,62%)}.rainbow-braces .token.token.punctuation.brace-level-3,.rainbow-braces .token.token.punctuation.brace-level-7,.rainbow-braces .token.token.punctuation.brace-level-11{color:hsl(207,82%,66%)}.rainbow-braces .token.token.punctuation.brace-level-4,.rainbow-braces .token.token.punctuation.brace-level-8,.rainbow-braces .token.token.punctuation.brace-level-12{color:hsl(286,60%,67%)}pre.diff-highlight>code .token.token.deleted:not(.prefix),pre>code.diff-highlight .token.token.deleted:not(.prefix){background-color:hsla(353,100%,66%,.15)}pre.diff-highlight>code .token.token.deleted:not(.prefix)::-moz-selection,pre.diff-highlight>code .token.token.deleted:not(.prefix) *::-moz-selection,pre>code.diff-highlight .token.token.deleted:not(.prefix)::-moz-selection,pre>code.diff-highlight .token.token.deleted:not(.prefix) *::-moz-selection{background-color:hsla(353,95%,66%,.25)}pre.diff-highlight>code .token.token.deleted:not(.prefix)::selection,pre.diff-highlight>code .token.token.deleted:not(.prefix) *::selection,pre>code.diff-highlight .token.token.deleted:not(.prefix)::selection,pre>code.diff-highlight .token.token.deleted:not(.prefix) *::selection{background-color:hsla(353,95%,66%,.25)}pre.diff-highlight>code .token.token.inserted:not(.prefix),pre>code.diff-highlight .token.token.inserted:not(.prefix){background-color:hsla(137,100%,55%,.15)}pre.diff-highlight>code .token.token.inserted:not(.prefix)::-moz-selection,pre.diff-highlight>code .token.token.inserted:not(.prefix) *::-moz-selection,pre>code.diff-highlight .token.token.inserted:not(.prefix)::-moz-selection,pre>code.diff-highlight .token.token.inserted:not(.prefix) *::-moz-selection{background-color:hsla(135,73%,55%,.25)}pre.diff-highlight>code .token.token.inserted:not(.prefix)::selection,pre.diff-highlight>code .token.token.inserted:not(.prefix) *::selection,pre>code.diff-highlight .token.token.inserted:not(.prefix)::selection,pre>code.diff-highlight .token.token.inserted:not(.prefix) *::selection{background-color:hsla(135,73%,55%,.25)}.prism-previewer.prism-previewer:before,.prism-previewer-gradient.prism-previewer-gradient div{border-color:hsl(224,13%,17%)}.prism-previewer-color.prism-previewer-color:before,.prism-previewer-gradient.prism-previewer-gradient div,.prism-previewer-easing.prism-previewer-easing:before{-webkit-border-radius:.3em;-moz-border-radius:.3em;border-radius:.3em}.prism-previewer.prism-previewer:after{border-top-color:hsl(224,13%,17%)}.prism-previewer-flipped.prism-previewer-flipped.after{border-bottom-color:hsl(224,13%,17%)}.prism-previewer-angle.prism-previewer-angle:before,.prism-previewer-time.prism-previewer-time:before,.prism-previewer-easing.prism-previewer-easing{background:hsl(219,13%,22%)}.prism-previewer-angle.prism-previewer-angle circle,.prism-previewer-time.prism-previewer-time circle{stroke:hsl(220,14%,71%);stroke-opacity:1}.prism-previewer-easing.prism-previewer-easing circle,.prism-previewer-easing.prism-previewer-easing path,.prism-previewer-easing.prism-previewer-easing line{stroke:hsl(220,14%,71%)}.prism-previewer-easing.prism-previewer-easing circle{fill:transparent}</style><style id="__jsx-60c1546e9c741873">.dark h1,.dark h2,.dark h3,.dark h4,.dark h5,.dark h6{--tw-text-opacity:1;color:rgba(255,255,255,var(--tw-text-opacity))}h1 a,h2 a,h3 a,h4 a,h5 a,h6 a{border-style:none;float:left;margin-top:.125rem;margin-left:-1.25rem;opacity:0;padding-right:.5rem;text-decoration:none}h1 a .icon-link:before,h2 a .icon-link:before,h3 a .icon-link:before,h4 a .icon-link:before,h5 a .icon-link:before,h6 a .icon-link:before{content:"#"}h1:hover a,h1:focus a,h2:hover a,h2:focus a,h3:hover a,h3:focus a,h4:hover a,h4:focus a,h5:hover a,h5:focus a,h6:hover a,h6:focus a{opacity:1;text-decoration:none}a{-webkit-border-radius:.25rem;-moz-border-radius:.25rem;border-radius:.25rem;text-decoration:none;-webkit-transition-property:background-color,border-color,color,fill,stroke,opacity,-webkit-box-shadow,-webkit-transform,filter,backdrop-filter;-o-transition-property:background-color,border-color,color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;-moz-transition-timing-function:background-color,border-color,color,fill,stroke,opacity,box-shadow,-webkit-box-shadow,-moz-transform,-webkit-transform,filter,backdrop-filter;transition-property:background-color,border-color,color,fill,stroke,opacity,box-shadow,-webkit-box-shadow,-webkit-transform,-webkit-transform,-webkit-filter,backdrop-filter;transition-property:background-color,border-color,color,fill,stroke,opacity,box-shadow,-webkit-box-shadow,-moz-transform,-webkit-transform,filter,backdrop-filter;transition-property:background-color,border-color,color,fill,stroke,opacity,box-shadow,-webkit-box-shadow,-o-transform,-webkit-transform,filter,backdrop-filter;transition-property:background-color,border-color,color,fill,stroke,opacity,box-shadow,-webkit-box-shadow,transform,-webkit-transform,filter,backdrop-filter;-webkit-transition-timing-function:cubic-bezier(.4,0,.2,1);-o-transition-timing-function:cubic-bezier(.4,0,.2,1);-moz-transition-timing-function:cubic-bezier(.4,0,.2,1);transition-timing-function:cubic-bezier(.4,0,.2,1);-webkit-transition-duration:150ms;-o-transition-duration:150ms;-moz-transition-duration:150ms;transition-duration:150ms;-webkit-transition-duration:300ms;-o-transition-duration:300ms;-moz-transition-duration:300ms;transition-duration:300ms}a:focus{outline:2px solid transparent;outline-offset:2px;--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(4px + var(--tw-ring-offset-width)) var(--tw-ring-color);-webkit-box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow,0 0#0000);-moz-box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow,0 0#0000);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow,0 0#0000);--tw-ring-offset-width:2px;--tw-ring-opacity:1;--tw-ring-color:rgba(0, 114, 255, var(--tw-ring-opacity))}.dark a{--tw-text-opacity:1;color:rgba(255,255,255,var(--tw-text-opacity))}a .item{border-bottom-width:0px;opacity:.6;text-decoration:none;-webkit-transition-property:background-color,border-color,color,fill,stroke,opacity,-webkit-box-shadow,-webkit-transform,filter,backdrop-filter;-o-transition-property:background-color,border-color,color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;-moz-transition-timing-function:background-color,border-color,color,fill,stroke,opacity,box-shadow,-webkit-box-shadow,-moz-transform,-webkit-transform,filter,backdrop-filter;transition-property:background-color,border-color,color,fill,stroke,opacity,box-shadow,-webkit-box-shadow,-webkit-transform,-webkit-transform,-webkit-filter,backdrop-filter;transition-property:background-color,border-color,color,fill,stroke,opacity,box-shadow,-webkit-box-shadow,-moz-transform,-webkit-transform,filter,backdrop-filter;transition-property:background-color,border-color,color,fill,stroke,opacity,box-shadow,-webkit-box-shadow,-o-transform,-webkit-transform,filter,backdrop-filter;transition-property:background-color,border-color,color,fill,stroke,opacity,box-shadow,-webkit-box-shadow,transform,-webkit-transform,filter,backdrop-filter;-webkit-transition-timing-function:cubic-bezier(.4,0,.2,1);-o-transition-timing-function:cubic-bezier(.4,0,.2,1);-moz-transition-timing-function:cubic-bezier(.4,0,.2,1);transition-timing-function:cubic-bezier(.4,0,.2,1);-webkit-transition-duration:150ms;-o-transition-duration:150ms;-moz-transition-duration:150ms;transition-duration:150ms;-webkit-transition-duration:300ms;-o-transition-duration:300ms;-moz-transition-duration:300ms;transition-duration:300ms}a .item:hover{opacity:1}p,ul,li{--tw-text-opacity:1;color:rgba(105,108,113,var(--tw-text-opacity))}.dark strong{--tw-text-opacity:1;color:rgba(255,255,255,var(--tw-text-opacity))}img{-webkit-border-radius:1.5rem;-moz-border-radius:1.5rem;border-radius:1.5rem;-o-object-fit:cover;object-fit:cover;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-transition-property:background-color,border-color,color,fill,stroke,opacity,-webkit-box-shadow,-webkit-transform,filter,backdrop-filter;-o-transition-property:background-color,border-color,color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;-moz-transition-timing-function:background-color,border-color,color,fill,stroke,opacity,box-shadow,-webkit-box-shadow,-moz-transform,-webkit-transform,filter,backdrop-filter;transition-property:background-color,border-color,color,fill,stroke,opacity,box-shadow,-webkit-box-shadow,-webkit-transform,-webkit-transform,-webkit-filter,backdrop-filter;transition-property:background-color,border-color,color,fill,stroke,opacity,box-shadow,-webkit-box-shadow,-moz-transform,-webkit-transform,filter,backdrop-filter;transition-property:background-color,border-color,color,fill,stroke,opacity,box-shadow,-webkit-box-shadow,-o-transform,-webkit-transform,filter,backdrop-filter;transition-property:background-color,border-color,color,fill,stroke,opacity,box-shadow,-webkit-box-shadow,transform,-webkit-transform,filter,backdrop-filter;-webkit-transition-timing-function:cubic-bezier(.4,0,.2,1);-o-transition-timing-function:cubic-bezier(.4,0,.2,1);-moz-transition-timing-function:cubic-bezier(.4,0,.2,1);transition-timing-function:cubic-bezier(.4,0,.2,1);-webkit-transition-duration:150ms;-o-transition-duration:150ms;-moz-transition-duration:150ms;transition-duration:150ms;-webkit-transition-duration:300ms;-o-transition-duration:300ms;-moz-transition-duration:300ms;transition-duration:300ms}img:hover{--tw-shadow:0 20px 25px -5px rgb(0 0 0/0.1),0 8px 10px -6px rgb(0 0 0/0.1);--tw-shadow-colored:0 20px 25px -5px var(--tw-shadow-color),0 8px 10px -6px var(--tw-shadow-color);-webkit-box-shadow:var(--tw-ring-offset-shadow,0 0#0000),var(--tw-ring-shadow,0 0#0000),var(--tw-shadow);-moz-box-shadow:var(--tw-ring-offset-shadow,0 0#0000),var(--tw-ring-shadow,0 0#0000),var(--tw-shadow);box-shadow:var(--tw-ring-offset-shadow,0 0#0000),var(--tw-ring-shadow,0 0#0000),var(--tw-shadow)}figcaption{text-align:center;--tw-text-opacity:1;color:rgba(202,203,205,var(--tw-text-opacity))}.dark figcaption{--tw-text-opacity:1;color:rgba(105,108,113,var(--tw-text-opacity))}.dark hr{--tw-border-opacity:1;border-color:rgba(36,41,47,var(--tw-border-opacity))}hr{margin-top:1rem;margin-bottom:1rem}code{--tw-bg-opacity:1;background-color:rgba(234,234,235,var(--tw-bg-opacity));-webkit-border-radius:.25rem;-moz-border-radius:.25rem;border-radius:.25rem;padding:.25rem;--tw-text-opacity:1;color:rgba(105,108,113,var(--tw-text-opacity))}.dark code{--tw-bg-opacity:1;background-color:rgba(24,27,32,var(--tw-bg-opacity));--tw-text-opacity:1;color:rgba(202,203,205,var(--tw-text-opacity))}code:after,code:before{display:none}pre{--tw-bg-opacity:1;background-color:rgba(202,203,205,var(--tw-bg-opacity));--tw-border-opacity:1;border-color:rgba(234,234,235,var(--tw-border-opacity));-webkit-border-radius:.5rem;-moz-border-radius:.5rem;border-radius:.5rem;-webkit-border-top-left-radius:0px;-moz-border-radius-topleft:0px;border-top-left-radius:0px;-webkit-border-top-right-radius:0px;-moz-border-radius-topright:0px;border-top-right-radius:0px;border-width:2px;margin:0px}.dark pre{--tw-bg-opacity:1;background-color:rgba(18,21,24,var(--tw-bg-opacity));--tw-border-opacity:1;border-color:rgba(40,45,52,var(--tw-border-opacity));--tw-text-opacity:1;color:rgba(255,255,255,var(--tw-text-opacity))}.dark th{--tw-text-opacity:1;color:rgba(255,255,255,var(--tw-text-opacity))}.dark td{--tw-text-opacity:1;color:rgba(105,108,113,var(--tw-text-opacity))}.dark ol li::before{--tw-text-opacity:1;color:rgba(167,169,172,var(--tw-text-opacity))}.light .remark-code-title{--tw-bg-opacity:1;background-color:rgba(255,255,255,var(--tw-bg-opacity))}.remark-code-title{--tw-border-opacity:1;border-color:rgba(234,234,235,var(--tw-border-opacity));-webkit-border-radius:.5rem;-moz-border-radius:.5rem;border-radius:.5rem;-webkit-border-bottom-right-radius:0px;-moz-border-radius-bottomright:0px;border-bottom-right-radius:0px;-webkit-border-bottom-left-radius:0px;-moz-border-radius-bottomleft:0px;border-bottom-left-radius:0px;border-width:2px;border-bottom-width:0px;font-weight:500;padding-left:1rem;padding-right:1rem;padding-top:.5rem;padding-bottom:.5rem;--tw-text-opacity:1;color:rgba(167,169,172,var(--tw-text-opacity))}.dark .remark-code-title{--tw-border-opacity:1;border-color:rgba(40,45,52,var(--tw-border-opacity));--tw-text-opacity:1;color:rgba(255,255,255,var(--tw-text-opacity))}</style><style id="__jsx-3778973251">#nprogress .bar{height:.25rem;background-color:#0072ff}</style></head><body class="antialiased bg-gradient-to-br from-white via-gray-100 to-white dark:from-black from-20% dark:via-gray-700 dark:to-black to-80% font-inter text-gray-500 selection:bg-gray-900 selection:dark:bg-white selection:text-white selection:dark:text-primary-500"><div id="__next" data-reactroot><nav class="fixed top-0 left-0 w-full z-10" data-headlessui-state><div class="mx-auto px-2"><div class="relative flex items-center justify-between h-16"><div class="relative inline-block text-left" data-headlessui-state><button class="group relative inline-flex items-center px-3 py-2 bg-gray-50 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-900 dark:hover:bg-gray-700 dark:hover:text-white text-gray-400 rounded-lg text-sm font-medium default-transition default-focus" aria-label="Menu" id="headlessui-menu-button-undefined" aria-haspopup="menu" aria-expanded="false" data-headlessui-state><span></span></button></div><div class="relative inline-block text-left" data-headlessui-state><button class="group relative inline-flex items-center px-3 py-2 bg-gray-50 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-900 dark:hover:bg-gray-700 dark:hover:text-white text-gray-400 rounded-lg text-sm font-medium default-transition default-focus" aria-label="Settings" id="headlessui-menu-button-undefined" aria-haspopup="menu" aria-expanded="false" data-headlessui-state><span></span></button></div></div></div></nav><main class="flex flex-col justify-center sm:px-8"><div class="relative px-4 py-16 overflow-hidden"><div class="relative px-4 sm:px-6 lg:px-8"><div class="relative sm:max-w-2xl lg:sm:max-w-6xl mx-auto my-2 sm:my-4"><div class="w-full h-full h-64 lg:h-96 mb-8 bg-gray-200 dark:bg-gray-600 rounded-3xl motion-safe:animate-pulse"></div><span style="box-sizing:border-box;display:block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:absolute;top:0;left:0;bottom:0;right:0"><img alt="A random screenshot of screen showing a Webpack config" draggable="false" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="fill" class="absolute top-0 left-0 w-full h-auto max-h-64 lg:max-h-96 mb-8 rounded-3xl object-cover select-none shadow-xl default-transition" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%"><noscript><img alt="A random screenshot of screen showing a Webpack config" draggable="false" sizes="100vw" srcSet="/_next/image?url=https%3A%2F%2Fimages.unsplash.com%2Fphoto-1593720213411-697ba0ac0162%3Fixid%3DMnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8%26ixlib%3Drb-1.2.1%26auto%3Dformat%26fit%3Dcrop%26w%3D1712%26q%3D80&amp;w=640&amp;q=75 640w, /_next/image?url=https%3A%2F%2Fimages.unsplash.com%2Fphoto-1593720213411-697ba0ac0162%3Fixid%3DMnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8%26ixlib%3Drb-1.2.1%26auto%3Dformat%26fit%3Dcrop%26w%3D1712%26q%3D80&amp;w=750&amp;q=75 750w, /_next/image?url=https%3A%2F%2Fimages.unsplash.com%2Fphoto-1593720213411-697ba0ac0162%3Fixid%3DMnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8%26ixlib%3Drb-1.2.1%26auto%3Dformat%26fit%3Dcrop%26w%3D1712%26q%3D80&amp;w=828&amp;q=75 828w, /_next/image?url=https%3A%2F%2Fimages.unsplash.com%2Fphoto-1593720213411-697ba0ac0162%3Fixid%3DMnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8%26ixlib%3Drb-1.2.1%26auto%3Dformat%26fit%3Dcrop%26w%3D1712%26q%3D80&amp;w=1080&amp;q=75 1080w, /_next/image?url=https%3A%2F%2Fimages.unsplash.com%2Fphoto-1593720213411-697ba0ac0162%3Fixid%3DMnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8%26ixlib%3Drb-1.2.1%26auto%3Dformat%26fit%3Dcrop%26w%3D1712%26q%3D80&amp;w=1200&amp;q=75 1200w, /_next/image?url=https%3A%2F%2Fimages.unsplash.com%2Fphoto-1593720213411-697ba0ac0162%3Fixid%3DMnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8%26ixlib%3Drb-1.2.1%26auto%3Dformat%26fit%3Dcrop%26w%3D1712%26q%3D80&amp;w=1920&amp;q=75 1920w, /_next/image?url=https%3A%2F%2Fimages.unsplash.com%2Fphoto-1593720213411-697ba0ac0162%3Fixid%3DMnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8%26ixlib%3Drb-1.2.1%26auto%3Dformat%26fit%3Dcrop%26w%3D1712%26q%3D80&amp;w=2048&amp;q=75 2048w, /_next/image?url=https%3A%2F%2Fimages.unsplash.com%2Fphoto-1593720213411-697ba0ac0162%3Fixid%3DMnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8%26ixlib%3Drb-1.2.1%26auto%3Dformat%26fit%3Dcrop%26w%3D1712%26q%3D80&amp;w=3840&amp;q=75 3840w" src="image_1" decoding="async" data-nimg="fill" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%" class="absolute top-0 left-0 w-full h-auto max-h-64 lg:max-h-96 mb-8 rounded-3xl object-cover select-none shadow-xl default-transition" loading="lazy"></noscript></span></div><div class="flex flex-col space-y-4 max-w-prose mx-auto my-4 text-lg text-center"><div><span class="block text-primary-600 font-semibold tracking-wide uppercase text-base text-center">Upgrade</span><span class="text-gray-900 dark:text-white sm:text-4xl text-3xl text-center leading-8 font-extrabold tracking-tight">Improving the Next.js config</span></div><span class="flex justify-center items-center"><div class="inline-flex justify-center w-full sm:w-auto bg-primary-500 bg-opacity-15 backdrop-filter backdrop-blur-sm saturate-200 rounded-lg text-sm text-primary-500 px-4 py-2"><span></span>December 3rd, 2021</div></span></div><article class="max-w-prose prose prose-primary prose-lg text-gray-500 mx-auto"><p>For the past few years I have been an avid lover of <a href="https://vuejs.org/">Vue.js</a> and in the past year or so been using it in combination with <a href="https://vitejs.dev/">Vite</a>, an all new build tool that is just out of this world fast <!-- -->⚡<!-- -->.
However, spending more time working in the industry I have learned to fall back in love with <a href="https://reactjs.org/">React</a> and more specifically <a href="https://nextjs.org/">Next.js</a>.</p><p>However, since switching back to using Next.js after so many years, I have noticed a number of things that have made me want to go back to using Vue + Vite.</p><p>As the title implies, this post is going to focus specifically on how to improve the <a href="https://nextjs.org/docs/api-reference/next.config.js/introduction">Next.js config</a> by focusing on a handful of the top/best config options used in other build tools like <a href="https://vitejs.dev/">Vite</a>.</p><h3 id="-more-options"><a aria-hidden="true" tabindex="-1" href="#-more-options"><span class="icon icon-link"></span></a>🔧<!-- --> More Options</h3><hr><p>In general I feel like there should be more options added to the config file. Looking at the <a href="https://vitejs.dev/config/#root">shared options in Vite</a>, here are just a few that would make a lot of sense to add:</p><ul><li><p><a href="https://vitejs.dev/config/#build-target"><code>build</code></a>: Customize the build output</p><p>Offer more customization for the build configuration of your project. In the case of Next.js I feel a lot of existing build options could be moved here. EG: <code>swcMinify</code>, <code>webpack</code>, etc.</p></li><li><p><a href="https://vitejs.dev/config/#define"><code>define</code></a>: Define global constant replacements</p><p>As a good alternative to having to add <code>NEXT_PUBLIC_</code> environment variables all the time you can use this to define public constant variables.</p></li><li><p><a href="https://vitejs.dev/config/#logLevel"><code>logLevel</code></a>: Adjust console output verbosity</p></li><li><p><a href="https://vitejs.dev/config/#plugins"><code>plugins</code></a>: Array of plugins to use</p><p>Plugins are a big feature that I&#x27;m going to <a href="#-plugins">dive into more later</a>.</p></li><li><p><a href="https://vitejs.dev/config/#root"><code>root</code></a>: Project root directory</p><p>Re-learning Next.js over the past few months I have been researching a number of open source projects, many of which like to point to a custom root directory. Most commonly a <code>src/</code> directory.</p></li><li><p><a href="https://vitejs.dev/config/#server-host"><code>server</code></a>: Server options</p><p>Customize the server configuration with options like <code>cors</code>, <code>port</code>, etc.</p></li></ul><p>The majority of these options simply add project structure flexability &amp; extensibility for more advanced users.</p><h3 id="-typescript"><a aria-hidden="true" tabindex="-1" href="#-typescript"><span class="icon icon-link"></span></a>❗<!-- --> TypeScript</h3><hr><p>Moving onto what is, to me at least, one of the most obvious features. TypeScript support.</p><p>I personally don&#x27;t like using the <a href="https://flaviocopes.com/commonjs/">CommonJS syntax</a> where possible. To the point that for most projects now when I want to write a simple Node script I quickly add <a href="https://tsup.egoist.sh/"><code>tsup</code></a> so I can use TypeScript &amp; a number of other handy features.
One scenario I particularly hate is when a library offers a object type definition &amp; but you have to use the JSDoc <code>@type {import(&#x27;...&#x27;).TypeName}</code> syntax to use it.</p><p>For comparison: This, to me, is ugly:</p><div class="remark-code-title">next.config.js</div><div class="remark-highlight"><pre class="language-js"><code class="language-js"><span class="token doc-comment comment">/**
 * <span class="token keyword">@type</span> <span class="token class-name"><span class="token punctuation">{</span><span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">&#x27;next&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>NextConfig<span class="token punctuation">}</span></span>
 */</span>
module<span class="token punctuation">.</span><span class="token property-access">exports</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
	<span class="token comment">// ...</span>
<span class="token punctuation">}</span>
</code></pre></div><p>This however, looks much cleaner:</p><div class="remark-code-title">next.config.ts</div><div class="remark-highlight"><pre class="language-ts"><code class="language-ts"><span class="token keyword">import</span> <span class="token keyword">type</span> <span class="token punctuation">{</span> NextConfig <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;next&quot;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
	<span class="token comment">// ...</span>
<span class="token punctuation">}</span> <span class="token keyword">as</span> NextConfig<span class="token punctuation">;</span>
</code></pre></div><p>No, type safety isn&#x27;t needed for a config file. But when writing it it can be very helpful to have tools, such as intellisense, to help prompt any issues with your setup or help save you from having to even look up the conig documentation.</p><p><code>next.config.ts</code> has been talked about for 3 years now &amp; has still not been added. <a href="https://github.com/vercel/next.js/issues/5318">This issue</a> has been tracking this request since first posted in 2018 and still to this day has people asking for it.</p><p>I can very much understand if there are more pressing features, bugs, etc that need to be addressed. But <a href="https://nextjs.org/blog/next-12">Next.js 12 has just been released</a>, the Next.js core has been running on TypeScript since 2019 &amp; Vercel has constantly preached how amazing TypeScript is to the point it works out of the box pretty much.
And yet, the Next.js config still only allows a CommonJS JavaScript file.</p><h3 id="-plugins"><a aria-hidden="true" tabindex="-1" href="#-plugins"><span class="icon icon-link"></span></a>🔌<!-- --> Plugins</h3><hr><p>One of the second features that I think would have the biggest &amp; best impact on Next.js would be an all new plugins system.</p><p>Currently Next.js does provide a plugin system of sorts but is, as far as I can tell, community made &amp; managed by nesting functions that return an updated Next.js configuration object. Not so pretty.</p><p>In an indeal world an all new plugins system could make it even easier to bootstap &amp; customize a Next.js project with your favourite tools in a matter of minutes, not hours like it does today.</p><p>Imagine if you could add <a href="https://tailwindcss.com/">TailwindCSS</a> to your Next.js project by just doing this:</p><div class="remark-code-title">Terminal</div><div class="remark-highlight"><pre class="language-bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> --save-dev next-plugin-tailwindcss

<span class="token comment"># Or with Yarn</span>

<span class="token function">yarn</span> <span class="token function">add</span> <span class="token parameter variable">-D</span> next-plugin-tailwindcss
</code></pre></div><div class="remark-code-title">next.config.js</div><div class="remark-highlight"><pre class="language-js"><code class="language-js"><span class="token doc-comment comment">/**
 * <span class="token keyword">@type</span> <span class="token class-name"><span class="token punctuation">{</span><span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">&#x27;next&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>NextConfig<span class="token punctuation">}</span></span>
 */</span>
module<span class="token punctuation">.</span><span class="token property-access">exports</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
	<span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
		<span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;next-plugin-tailwindcss&quot;</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p>That&#x27;s basically how Vite&#x27;s plugin system works &amp; how nice &amp; easy it is to work with. It has a <a href="https://vitejs.dev/config/#plugins"><code>plugins</code></a> property that allows you to simply provide an array of plugin methods that you call with your desired options.</p><p>This system has become so popular that there are a huge number of plugins to let you to almost anything and everything you could need. Here is a few examples of my favourites:</p><ul><li><a href="https://www.npmjs.com/package/vite-plugin-icons"><code>vite-plugin-icons</code></a>: Access thousands of icons via <a href="https://iconify.design/">Iconify</a>.</li><li><a href="https://www.npmjs.com/package/vite-plugin-markdown"><code>vite-plugin-markdown</code></a>: Import markdown files content, frontmatter, etc.</li><li><a href="https://www.npmjs.com/package/vite-plugin-pwa"><code>vite-plugin-pwa</code></a>: Generate all assets needed to make your app PWA ready.</li><li><a href="https://windicss.org/integrations/vite.html"><code>vite-plugin-windicss</code></a>: Quickly add WindiCSS (TailwindCSS + some cool extras).</li></ul><h3 id="-merged"><a aria-hidden="true" tabindex="-1" href="#-merged"><span class="icon icon-link"></span></a>😎<!-- --> Merged</h3><hr><p>With all of those features all put together you end up with something that looks a little like this:</p><div class="remark-code-title">next.config.ts</div><div class="remark-highlight"><pre class="language-ts"><code class="language-ts"><span class="token keyword">import</span> TailwindCSS <span class="token keyword">from</span> <span class="token string">&#x27;next-plugin-windicss&#x27;</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token keyword">type</span> <span class="token punctuation">{</span> NextConfig <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;next&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
	build<span class="token operator">:</span> <span class="token punctuation">{</span>
		swc<span class="token operator">:</span> <span class="token punctuation">{</span>
			minify<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token function-variable function">webpack</span><span class="token operator">:</span> <span class="token punctuation">(</span>config<span class="token punctuation">,</span> <span class="token punctuation">{</span> dev<span class="token punctuation">,</span> isServer <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
			<span class="token comment">// ...</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	experimental<span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token comment">// ...</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	images<span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token comment">// ...</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
		<span class="token function">TailwindCSS</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token punctuation">]</span><span class="token punctuation">,</span>
	root<span class="token operator">:</span> <span class="token string">&quot;./src/&quot;</span><span class="token punctuation">,</span>
	server<span class="token operator">:</span> <span class="token punctuation">{</span>
		headers<span class="token operator">:</span> <span class="token punctuation">[</span>
			<span class="token comment">// ...</span>
		<span class="token punctuation">]</span><span class="token punctuation">,</span>
		port<span class="token operator">:</span> <span class="token number">4000</span><span class="token punctuation">,</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span> <span class="token keyword">as</span> NextConfig<span class="token punctuation">;</span>
</code></pre></div><h3 id="-simplicity"><a aria-hidden="true" tabindex="-1" href="#-simplicity"><span class="icon icon-link"></span></a>😇<!-- --> Simplicity</h3><hr><p>One argument I could see for NOT to make all these big, possibly breaking, changes to the config system would be &quot;But Next.js is so simple to use. This will just add complexity&quot;.</p><p>Fair point. But if done correctly it could be backwards compatible with the current config system &amp; then allows more experienced developers who do want to utilize some of the new features, such as plugins, TypeScript support, etc, can do so.</p><h3 id="-conclusion"><a aria-hidden="true" tabindex="-1" href="#-conclusion"><span class="icon icon-link"></span></a>🤔<!-- --> Conclusion</h3><hr><p>Of course all of this is just my opinion on how to improve the Next.js config system &amp; how I think it should look, but others may have differing opinions / preferences, which I am very open to discussing.</p><p>For now though I feel like this needs to be something that should be discussed more in the community &amp; looked into further as it could very much make Next.js even more powerful than it already is.</p></article></div></div></main></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"frontmatter":{"banner_alt":"A random screenshot of screen showing a Webpack config","banner":"https://images.unsplash.com/photo-1593720213411-697ba0ac0162?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8\u0026ixlib=rb-1.2.1\u0026auto=format\u0026fit=crop\u0026w=1712\u0026q=80","title_prefix":"Upgrade","title":"Improving the Next.js config","description":"The Next.js config file feels underutilized. Here's how it could be better","date":"December 3rd, 2021","slug":"improving_next_config"},"source":{"compiledSource":"var l=Object.defineProperty,N=Object.defineProperties;var d=Object.getOwnPropertyDescriptors;var p=Object.getOwnPropertySymbols;var o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;var r=(a,n,t)=\u003en in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[n]=t,e=(a,n)=\u003e{for(var t in n||(n={}))o.call(n,t)\u0026\u0026r(a,t,n[t]);if(p)for(var t of p(n))i.call(n,t)\u0026\u0026r(a,t,n[t]);return a},c=(a,n)=\u003eN(a,d(n));var m=(a,n)=\u003e{var t={};for(var s in a)o.call(a,s)\u0026\u0026n.indexOf(s)\u003c0\u0026\u0026(t[s]=a[s]);if(a!=null\u0026\u0026p)for(var s of p(a))n.indexOf(s)\u003c0\u0026\u0026i.call(a,s)\u0026\u0026(t[s]=a[s]);return t};const layoutProps={},MDXLayout=\"wrapper\";function MDXContent(t){var s=t,{components:a}=s,n=m(s,[\"components\"]);return mdx(MDXLayout,c(e(e({},layoutProps),n),{components:a,mdxType:\"MDXLayout\"}),mdx(\"p\",null,\"For the past few years I have been an avid lover of \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://vuejs.org/\"}),\"Vue.js\"),\" and in the past year or so been using it in combination with \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://vitejs.dev/\"}),\"Vite\"),\", an all new build tool that is just out of this world fast \",\"\\u26A1\",`.\nHowever, spending more time working in the industry I have learned to fall back in love with `,mdx(\"a\",e({parentName:\"p\"},{href:\"https://reactjs.org/\"}),\"React\"),\" and more specifically \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://nextjs.org/\"}),\"Next.js\"),\".\"),mdx(\"p\",null,\"However, since switching back to using Next.js after so many years, I have noticed a number of things that have made me want to go back to using Vue + Vite.\"),mdx(\"p\",null,\"As the title implies, this post is going to focus specifically on how to improve the \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://nextjs.org/docs/api-reference/next.config.js/introduction\"}),\"Next.js config\"),\" by focusing on a handful of the top/best config options used in other build tools like \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://vitejs.dev/\"}),\"Vite\"),\".\"),mdx(\"h3\",e({},{id:\"-more-options\"}),mdx(\"a\",e({parentName:\"h3\"},{\"aria-hidden\":\"true\",tabIndex:-1,href:\"#-more-options\"}),mdx(\"span\",e({parentName:\"a\"},{className:\"icon icon-link\"}))),\"\\u{1F527}\",\" More Options\"),mdx(\"hr\",null),mdx(\"p\",null,\"In general I feel like there should be more options added to the config file. Looking at the \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://vitejs.dev/config/#root\"}),\"shared options in Vite\"),\", here are just a few that would make a lot of sense to add:\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\"},mdx(\"a\",e({parentName:\"p\"},{href:\"https://vitejs.dev/config/#build-target\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"build\")),\": Customize the build output\"),mdx(\"p\",{parentName:\"li\"},\"Offer more customization for the build configuration of your project. In the case of Next.js I feel a lot of existing build options could be moved here. EG: \",mdx(\"inlineCode\",{parentName:\"p\"},\"swcMinify\"),\", \",mdx(\"inlineCode\",{parentName:\"p\"},\"webpack\"),\", etc.\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\"},mdx(\"a\",e({parentName:\"p\"},{href:\"https://vitejs.dev/config/#define\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"define\")),\": Define global constant replacements\"),mdx(\"p\",{parentName:\"li\"},\"As a good alternative to having to add \",mdx(\"inlineCode\",{parentName:\"p\"},\"NEXT_PUBLIC_\"),\" environment variables all the time you can use this to define public constant variables.\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\"},mdx(\"a\",e({parentName:\"p\"},{href:\"https://vitejs.dev/config/#logLevel\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"logLevel\")),\": Adjust console output verbosity\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\"},mdx(\"a\",e({parentName:\"p\"},{href:\"https://vitejs.dev/config/#plugins\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"plugins\")),\": Array of plugins to use\"),mdx(\"p\",{parentName:\"li\"},\"Plugins are a big feature that I'm going to \",mdx(\"a\",e({parentName:\"p\"},{href:\"#-plugins\"}),\"dive into more later\"),\".\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\"},mdx(\"a\",e({parentName:\"p\"},{href:\"https://vitejs.dev/config/#root\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"root\")),\": Project root directory\"),mdx(\"p\",{parentName:\"li\"},\"Re-learning Next.js over the past few months I have been researching a number of open source projects, many of which like to point to a custom root directory. Most commonly a \",mdx(\"inlineCode\",{parentName:\"p\"},\"src/\"),\" directory.\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\"},mdx(\"a\",e({parentName:\"p\"},{href:\"https://vitejs.dev/config/#server-host\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"server\")),\": Server options\"),mdx(\"p\",{parentName:\"li\"},\"Customize the server configuration with options like \",mdx(\"inlineCode\",{parentName:\"p\"},\"cors\"),\", \",mdx(\"inlineCode\",{parentName:\"p\"},\"port\"),\", etc.\"))),mdx(\"p\",null,\"The majority of these options simply add project structure flexability \u0026 extensibility for more advanced users.\"),mdx(\"h3\",e({},{id:\"-typescript\"}),mdx(\"a\",e({parentName:\"h3\"},{\"aria-hidden\":\"true\",tabIndex:-1,href:\"#-typescript\"}),mdx(\"span\",e({parentName:\"a\"},{className:\"icon icon-link\"}))),\"\\u2757\",\" TypeScript\"),mdx(\"hr\",null),mdx(\"p\",null,\"Moving onto what is, to me at least, one of the most obvious features. TypeScript support.\"),mdx(\"p\",null,\"I personally don't like using the \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://flaviocopes.com/commonjs/\"}),\"CommonJS syntax\"),\" where possible. To the point that for most projects now when I want to write a simple Node script I quickly add \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://tsup.egoist.sh/\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"tsup\")),` so I can use TypeScript \u0026 a number of other handy features.\nOne scenario I particularly hate is when a library offers a object type definition \u0026 but you have to use the JSDoc `,mdx(\"inlineCode\",{parentName:\"p\"},\"@type {import('...').TypeName}\"),\" syntax to use it.\"),mdx(\"p\",null,\"For comparison: This, to me, is ugly:\"),mdx(\"div\",e({},{className:\"remark-code-title\"}),\"next.config.js\"),mdx(\"div\",e({},{className:\"remark-highlight\"}),mdx(\"pre\",e({parentName:\"div\"},{className:\"language-js\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-js\"}),mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),`/**\n * `,mdx(\"span\",e({parentName:\"span\"},{className:\"token keyword\"}),\"@type\"),\" \",mdx(\"span\",e({parentName:\"span\"},{className:\"token class-name\"}),mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\"{\"),mdx(\"span\",e({parentName:\"span\"},{className:\"token keyword\"}),\"import\"),mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",e({parentName:\"span\"},{className:\"token string\"}),\"'next'\"),mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\")\"),mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\".\"),\"NextConfig\",mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\"}\")),`\n */`),`\nmodule`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token property-access\"}),\"exports\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n\t`,mdx(\"span\",e({parentName:\"code\"},{className:\"token comment\"}),\"// ...\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`))),mdx(\"p\",null,\"This however, looks much cleaner:\"),mdx(\"div\",e({},{className:\"remark-code-title\"}),\"next.config.ts\"),mdx(\"div\",e({},{className:\"remark-highlight\"}),mdx(\"pre\",e({parentName:\"div\"},{className:\"language-ts\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-ts\"}),mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"import\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"type\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),\" NextConfig \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"from\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"next\"'),`\n\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"export\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"default\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n\t`,mdx(\"span\",e({parentName:\"code\"},{className:\"token comment\"}),\"// ...\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"as\"),\" NextConfig\",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n`))),mdx(\"p\",null,\"No, type safety isn't needed for a config file. But when writing it it can be very helpful to have tools, such as intellisense, to help prompt any issues with your setup or help save you from having to even look up the conig documentation.\"),mdx(\"p\",null,mdx(\"inlineCode\",{parentName:\"p\"},\"next.config.ts\"),\" has been talked about for 3 years now \u0026 has still not been added. \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://github.com/vercel/next.js/issues/5318\"}),\"This issue\"),\" has been tracking this request since first posted in 2018 and still to this day has people asking for it.\"),mdx(\"p\",null,\"I can very much understand if there are more pressing features, bugs, etc that need to be addressed. But \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://nextjs.org/blog/next-12\"}),\"Next.js 12 has just been released\"),`, the Next.js core has been running on TypeScript since 2019 \u0026 Vercel has constantly preached how amazing TypeScript is to the point it works out of the box pretty much.\nAnd yet, the Next.js config still only allows a CommonJS JavaScript file.`),mdx(\"h3\",e({},{id:\"-plugins\"}),mdx(\"a\",e({parentName:\"h3\"},{\"aria-hidden\":\"true\",tabIndex:-1,href:\"#-plugins\"}),mdx(\"span\",e({parentName:\"a\"},{className:\"icon icon-link\"}))),\"\\u{1F50C}\",\" Plugins\"),mdx(\"hr\",null),mdx(\"p\",null,\"One of the second features that I think would have the biggest \u0026 best impact on Next.js would be an all new plugins system.\"),mdx(\"p\",null,\"Currently Next.js does provide a plugin system of sorts but is, as far as I can tell, community made \u0026 managed by nesting functions that return an updated Next.js configuration object. Not so pretty.\"),mdx(\"p\",null,\"In an indeal world an all new plugins system could make it even easier to bootstap \u0026 customize a Next.js project with your favourite tools in a matter of minutes, not hours like it does today.\"),mdx(\"p\",null,\"Imagine if you could add \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://tailwindcss.com/\"}),\"TailwindCSS\"),\" to your Next.js project by just doing this:\"),mdx(\"div\",e({},{className:\"remark-code-title\"}),\"Terminal\"),mdx(\"div\",e({},{className:\"remark-highlight\"}),mdx(\"pre\",e({parentName:\"div\"},{className:\"language-bash\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-bash\"}),mdx(\"span\",e({parentName:\"code\"},{className:\"token function\"}),\"npm\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token function\"}),\"install\"),` --save-dev next-plugin-tailwindcss\n\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token comment\"}),\"# Or with Yarn\"),`\n\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token function\"}),\"yarn\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token function\"}),\"add\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token parameter variable\"}),\"-D\"),` next-plugin-tailwindcss\n`))),mdx(\"div\",e({},{className:\"remark-code-title\"}),\"next.config.js\"),mdx(\"div\",e({},{className:\"remark-highlight\"}),mdx(\"pre\",e({parentName:\"div\"},{className:\"language-js\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-js\"}),mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),`/**\n * `,mdx(\"span\",e({parentName:\"span\"},{className:\"token keyword\"}),\"@type\"),\" \",mdx(\"span\",e({parentName:\"span\"},{className:\"token class-name\"}),mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\"{\"),mdx(\"span\",e({parentName:\"span\"},{className:\"token keyword\"}),\"import\"),mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",e({parentName:\"span\"},{className:\"token string\"}),\"'next'\"),mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\")\"),mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\".\"),\"NextConfig\",mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\"}\")),`\n */`),`\nmodule`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token property-access\"}),\"exports\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n\t`,mdx(\"span\",e({parentName:\"code\"},{className:\"token literal-property property\"}),\"plugins\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),`\n\t\t`,mdx(\"span\",e({parentName:\"code\"},{className:\"token function\"}),\"require\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"next-plugin-tailwindcss\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n\t`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`))),mdx(\"p\",null,\"That's basically how Vite's plugin system works \u0026 how nice \u0026 easy it is to work with. It has a \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://vitejs.dev/config/#plugins\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"plugins\")),\" property that allows you to simply provide an array of plugin methods that you call with your desired options.\"),mdx(\"p\",null,\"This system has become so popular that there are a huge number of plugins to let you to almost anything and everything you could need. Here is a few examples of my favourites:\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{href:\"https://www.npmjs.com/package/vite-plugin-icons\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"vite-plugin-icons\")),\": Access thousands of icons via \",mdx(\"a\",e({parentName:\"li\"},{href:\"https://iconify.design/\"}),\"Iconify\"),\".\"),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{href:\"https://www.npmjs.com/package/vite-plugin-markdown\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"vite-plugin-markdown\")),\": Import markdown files content, frontmatter, etc.\"),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{href:\"https://www.npmjs.com/package/vite-plugin-pwa\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"vite-plugin-pwa\")),\": Generate all assets needed to make your app PWA ready.\"),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{href:\"https://windicss.org/integrations/vite.html\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"vite-plugin-windicss\")),\": Quickly add WindiCSS (TailwindCSS + some cool extras).\")),mdx(\"h3\",e({},{id:\"-merged\"}),mdx(\"a\",e({parentName:\"h3\"},{\"aria-hidden\":\"true\",tabIndex:-1,href:\"#-merged\"}),mdx(\"span\",e({parentName:\"a\"},{className:\"icon icon-link\"}))),\"\\u{1F60E}\",\" Merged\"),mdx(\"hr\",null),mdx(\"p\",null,\"With all of those features all put together you end up with something that looks a little like this:\"),mdx(\"div\",e({},{className:\"remark-code-title\"}),\"next.config.ts\"),mdx(\"div\",e({},{className:\"remark-highlight\"}),mdx(\"pre\",e({parentName:\"div\"},{className:\"language-ts\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-ts\"}),mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"import\"),\" TailwindCSS \",mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"from\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),\"'next-plugin-windicss'\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"import\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"type\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),\" NextConfig \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"from\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"next\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"export\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"default\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n\tbuild`,mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n\t\tswc`,mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n\t\t\tminify`,mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token boolean\"}),\"true\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n\t\t`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n\t\t`,mdx(\"span\",e({parentName:\"code\"},{className:\"token function-variable function\"}),\"webpack\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),\"config\",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),\" dev\",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),\" isServer \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\"=\u003e\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n\t\t\t`,mdx(\"span\",e({parentName:\"code\"},{className:\"token comment\"}),\"// ...\"),`\n\t\t`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n\t`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n\texperimental`,mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n\t\t`,mdx(\"span\",e({parentName:\"code\"},{className:\"token comment\"}),\"// ...\"),`\n\t`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n\timages`,mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n\t\t`,mdx(\"span\",e({parentName:\"code\"},{className:\"token comment\"}),\"// ...\"),`\n\t`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n\tplugins`,mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),`\n\t\t`,mdx(\"span\",e({parentName:\"code\"},{className:\"token function\"}),\"TailwindCSS\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n\t`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n\troot`,mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"./src/\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n\tserver`,mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n\t\theaders`,mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),`\n\t\t\t`,mdx(\"span\",e({parentName:\"code\"},{className:\"token comment\"}),\"// ...\"),`\n\t\t`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n\t\tport`,mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token number\"}),\"4000\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n\t`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"as\"),\" NextConfig\",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n`))),mdx(\"h3\",e({},{id:\"-simplicity\"}),mdx(\"a\",e({parentName:\"h3\"},{\"aria-hidden\":\"true\",tabIndex:-1,href:\"#-simplicity\"}),mdx(\"span\",e({parentName:\"a\"},{className:\"icon icon-link\"}))),\"\\u{1F607}\",\" Simplicity\"),mdx(\"hr\",null),mdx(\"p\",null,'One argument I could see for NOT to make all these big, possibly breaking, changes to the config system would be \"But Next.js is so simple to use. This will just add complexity\".'),mdx(\"p\",null,\"Fair point. But if done correctly it could be backwards compatible with the current config system \u0026 then allows more experienced developers who do want to utilize some of the new features, such as plugins, TypeScript support, etc, can do so.\"),mdx(\"h3\",e({},{id:\"-conclusion\"}),mdx(\"a\",e({parentName:\"h3\"},{\"aria-hidden\":\"true\",tabIndex:-1,href:\"#-conclusion\"}),mdx(\"span\",e({parentName:\"a\"},{className:\"icon icon-link\"}))),\"\\u{1F914}\",\" Conclusion\"),mdx(\"hr\",null),mdx(\"p\",null,\"Of course all of this is just my opinion on how to improve the Next.js config system \u0026 how I think it should look, but others may have differing opinions / preferences, which I am very open to discussing.\"),mdx(\"p\",null,\"For now though I feel like this needs to be something that should be discussed more in the community \u0026 looked into further as it could very much make Next.js even more powerful than it already is.\"))}MDXContent.isMDXComponent=!0;\n","scope":{"banner_alt":"A random screenshot of screen showing a Webpack config","banner":"https://images.unsplash.com/photo-1593720213411-697ba0ac0162?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8\u0026ixlib=rb-1.2.1\u0026auto=format\u0026fit=crop\u0026w=1712\u0026q=80","title_prefix":"Upgrade","title":"Improving the Next.js config","description":"The Next.js config file feels underutilized. Here's how it could be better","date":"2021-12-03"}}}},"__N_SSG":true},"page":"/blog/[slug]","query":{"slug":"improving_next_config"},"buildId":"hLkizX55R1YurHFaGQBsn","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>