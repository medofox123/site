<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"><meta name="viewport" content="width=device-width"><title>Using GitHub as a CMS ─ blog ─ nuro</title><meta name="robots" content="index,follow"><meta name="googlebot" content="index,follow"><meta name="description" content="Learn how to use GitHub as a CMS using server-side rendering from Next.js"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content="@nurodev"><meta name="twitter:creator" content="@nurodev"><meta property="og:title" content="Using GitHub as a CMS"><meta property="og:description" content="Learn how to use GitHub as a CMS using server-side rendering from Next.js"><meta property="og:url" content="https://nuro.dev//blog/using_github_as_a_cms"><meta property="og:image" content="https://images.unsplash.com/photo-1618401471353-b98afee0b2eb"><meta property="og:image:alt" content="Learn how to use GitHub as a CMS using server-side rendering from Next.js"><meta property="og:image:width" content="1280"><meta property="og:image:height" content="720"><link rel="canonical" href="https://nuro.dev//blog/using_github_as_a_cms"><meta name="next-head-count" content="17"><link rel="icon" type="image/png" href="images/favicon.png"><link rel="preload" href="/_next/static/css/d2da100e4e50d0d9.css" as="style"><link rel="stylesheet" href="css/d2da100e4e50d0d9.css" data-n-g><noscript data-n-css></noscript><script defer nomodule src="js/polyfills-c67a75d1b6f99dc8.js"></script><script id="next-themes-script" src="data:text/javascript;base64,IWZ1bmN0aW9uKCl7dHJ5IHt2YXIgZD1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xhc3NMaXN0O2QucmVtb3ZlKCdsaWdodCcsJ2RhcmsnLCdzeXN0ZW0nKTt2YXIgZT1sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndGhlbWUnKTtpZigic3lzdGVtIj09PWV8fCghZSYmdHJ1ZSkpe3ZhciB0PSIocHJlZmVycy1jb2xvci1zY2hlbWU6IGRhcmspIixtPXdpbmRvdy5tYXRjaE1lZGlhKHQpO2lmKG0ubWVkaWEhPT10fHxtLm1hdGNoZXMpe2Quc3R5bGUuY29sb3JTY2hlbWUgPSAnZGFyayc7ZC5hZGQoJ2RhcmsnKX1lbHNle2Quc3R5bGUuY29sb3JTY2hlbWUgPSAnbGlnaHQnO2QuYWRkKCdsaWdodCcpfX1lbHNlIGlmKGUpe2QuYWRkKGV8fCAnJyl9aWYoZT09PSdsaWdodCd8fGU9PT0nZGFyaycpZC5zdHlsZS5jb2xvclNjaGVtZT1lfWNhdGNoKGUpe319KCk=" defer data-nscript="beforeInteractive"></script><script src="js/webpack-393291bcbbaa1be3.js" defer></script><script src="js/framework-00a8d73f8e166d2f.js" defer></script><script src="js/main-f3ecd1ad2baba103.js" defer></script><script src="js/_app-25641d0bc73a0e42.js" defer></script><script src="js/%5Bslug%5D-caf17533422a137f.js" defer></script><script src="js/_buildManifest.js" defer></script><script src="js/_ssgManifest.js" defer></script><style id="__jsx-128ef65df0196604">code[class*="language-"],pre[class*="language-"]{--tw-bg-opacity:1;background-color:rgba(255,255,255,var(--tw-bg-opacity));--tw-text-opacity:1;color:rgba(167,169,172,var(--tw-text-opacity));font-family:"Fira Code","Fira Mono",Menlo,Consolas,"DejaVu Sans Mono",monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}.dark code[class*="language-"],.dark pre[class*="language-"]{--tw-bg-opacity:1;background-color:rgba(18,21,24,var(--tw-bg-opacity));--tw-text-opacity:1;color:rgba(202,203,205,var(--tw-text-opacity))}code[class*="language-"]::-moz-selection,code[class*="language-"] *::-moz-selection,pre[class*="language-"] *::-moz-selection{--tw-bg-opacity:1;background-color:rgba(0,0,0,var(--tw-bg-opacity));color:inherit}.dark code[class*="language-"]::-moz-selection,.dark code[class*="language-"] *::-moz-selection,.dark pre[class*="language-"] *::-moz-selection{--tw-bg-opacity:1;background-color:rgba(167,169,172,var(--tw-bg-opacity));--tw-bg-opacity:0.25}code[class*="language-"]::selection,code[class*="language-"] *::selection,pre[class*="language-"] *::selection{--tw-bg-opacity:1;background-color:rgba(0,0,0,var(--tw-bg-opacity));color:inherit}.dark code[class*="language-"]::selection,.dark code[class*="language-"] *::selection,.dark pre[class*="language-"] *::selection{--tw-bg-opacity:1;background-color:rgba(167,169,172,var(--tw-bg-opacity));--tw-bg-opacity:0.25}pre[class*="language-"]{margin-bottom:.375rem;overflow:auto;padding:1rem}:not(pre)>code[class*="language-"]{padding-top:.25rem;padding-bottom:.25rem;padding-left:.375rem;padding-right:.375rem;white-space:normal}@media print{code[class*="language-"],pre[class*="language-"]{text-shadow:none}}.token.comment,.token.prolog,.token.cdata{--tw-text-opacity:1;color:rgba(105,108,113,var(--tw-text-opacity))}.token.doctype,.token.punctuation,.token.entity{--tw-text-opacity:1;color:rgba(202,203,205,var(--tw-text-opacity))}.token.attr-name,.token.class-name,.token.boolean,.token.constant,.token.number,.token.atrule{--tw-text-opacity:1;color:rgba(245,158,11,var(--tw-text-opacity))}.token.keyword{--tw-text-opacity:1;color:rgba(236,72,153,var(--tw-text-opacity))}.token.property,.token.tag,.token.symbol,.token.deleted,.token.important{--tw-text-opacity:1;color:rgba(239,68,68,var(--tw-text-opacity))}.token.selector,.token.string,.token.char,.token.builtin,.token.inserted,.token.regex,.token.attr-value,.token.attr-value>.token.punctuation{--tw-text-opacity:1;color:rgba(16,185,129,var(--tw-text-opacity))}.token.variable,.token.operator,.token.function{--tw-text-opacity:1;color:rgba(59,130,246,var(--tw-text-opacity))}.token.url{color:hsl(187,47%,55%)}.token.attr-value>.token.punctuation.attr-equals,.token.special-attr>.token.attr-value>.token.value.css{color:hsl(220,14%,71%)}.language-css .token.selector{color:hsl(355,65%,65%)}.language-css .token.property{color:hsl(220,14%,71%)}.language-css .token.function,.language-css .token.url>.token.function{color:hsl(187,47%,55%)}.language-css .token.url>.token.string.url{color:hsl(95,38%,62%)}.language-css .token.important,.language-css .token.atrule .token.rule{color:hsl(286,60%,67%)}.language-javascript .token.operator{color:hsl(286,60%,67%)}.language-javascript .token.template-string>.token.interpolation>.token.interpolation-punctuation.punctuation{color:hsl(5,48%,51%)}.language-json .token.operator{color:hsl(220,14%,71%)}.language-json .token.null.keyword{color:hsl(29,54%,61%)}.language-markdown .token.url,.language-markdown .token.url>.token.operator,.language-markdown .token.url-reference.url>.token.string{color:hsl(220,14%,71%)}.language-markdown .token.url>.token.content{color:hsl(207,82%,66%)}.language-markdown .token.url>.token.url,.language-markdown .token.url-reference.url{color:hsl(187,47%,55%)}.language-markdown .token.blockquote.punctuation,.language-markdown .token.hr.punctuation{color:hsl(220,10%,40%);font-style:italic}.language-markdown .token.code-snippet{color:hsl(95,38%,62%)}.language-markdown .token.bold .token.content{color:hsl(29,54%,61%)}.language-markdown .token.italic .token.content{color:hsl(286,60%,67%)}.language-markdown .token.strike .token.content,.language-markdown .token.strike .token.punctuation,.language-markdown .token.list.punctuation,.language-markdown .token.title.important>.token.punctuation{color:hsl(355,65%,65%)}.token.bold{font-weight:bold}.token.comment,.token.italic{font-style:italic}.token.entity{cursor:help}.token.namespace{opacity:.8}.token.token.tab:not(:empty):before,.token.token.cr:before,.token.token.lf:before,.token.token.space:before{color:hsla(220,14%,71%,.15);text-shadow:none}div.code-toolbar>.toolbar.toolbar>.toolbar-item{margin-right:.4em}div.code-toolbar>.toolbar.toolbar>.toolbar-item>button,div.code-toolbar>.toolbar.toolbar>.toolbar-item>a,div.code-toolbar>.toolbar.toolbar>.toolbar-item>span{background:hsl(220,13%,26%);color:hsl(220,9%,55%);padding:.1em .4em}div.code-toolbar>.toolbar.toolbar>.toolbar-item>button:hover,div.code-toolbar>.toolbar.toolbar>.toolbar-item>button:focus,div.code-toolbar>.toolbar.toolbar>.toolbar-item>a:hover,div.code-toolbar>.toolbar.toolbar>.toolbar-item>a:focus,div.code-toolbar>.toolbar.toolbar>.toolbar-item>span:hover,div.code-toolbar>.toolbar.toolbar>.toolbar-item>span:focus{background:hsl(220,13%,28%);color:hsl(220,14%,71%)}.line-highlight.line-highlight{background:hsla(220,100%,80%,.04)}.line-highlight.line-highlight:before,.line-highlight.line-highlight[data-end]:after{background:hsl(220,13%,26%);color:hsl(220,14%,71%);padding:.1em .6em;-webkit-box-shadow:0 2px 0 0 rgba(0,0,0,.2);-moz-box-shadow:0 2px 0 0 rgba(0,0,0,.2);box-shadow:0 2px 0 0 rgba(0,0,0,.2)}pre[id].linkable-line-numbers.linkable-line-numbers span.line-numbers-rows>span:hover:before{background-color:hsla(220,100%,80%,.04)}.line-numbers.line-numbers .line-numbers-rows,.command-line .command-line-prompt{border-right-color:hsla(220,14%,71%,.15)}.line-numbers .line-numbers-rows>span:before,.command-line .command-line-prompt>span:before{color:hsl(220,14%,45%)}.rainbow-braces .token.token.punctuation.brace-level-1,.rainbow-braces .token.token.punctuation.brace-level-5,.rainbow-braces .token.token.punctuation.brace-level-9{color:hsl(355,65%,65%)}.rainbow-braces .token.token.punctuation.brace-level-2,.rainbow-braces .token.token.punctuation.brace-level-6,.rainbow-braces .token.token.punctuation.brace-level-10{color:hsl(95,38%,62%)}.rainbow-braces .token.token.punctuation.brace-level-3,.rainbow-braces .token.token.punctuation.brace-level-7,.rainbow-braces .token.token.punctuation.brace-level-11{color:hsl(207,82%,66%)}.rainbow-braces .token.token.punctuation.brace-level-4,.rainbow-braces .token.token.punctuation.brace-level-8,.rainbow-braces .token.token.punctuation.brace-level-12{color:hsl(286,60%,67%)}pre.diff-highlight>code .token.token.deleted:not(.prefix),pre>code.diff-highlight .token.token.deleted:not(.prefix){background-color:hsla(353,100%,66%,.15)}pre.diff-highlight>code .token.token.deleted:not(.prefix)::-moz-selection,pre.diff-highlight>code .token.token.deleted:not(.prefix) *::-moz-selection,pre>code.diff-highlight .token.token.deleted:not(.prefix)::-moz-selection,pre>code.diff-highlight .token.token.deleted:not(.prefix) *::-moz-selection{background-color:hsla(353,95%,66%,.25)}pre.diff-highlight>code .token.token.deleted:not(.prefix)::selection,pre.diff-highlight>code .token.token.deleted:not(.prefix) *::selection,pre>code.diff-highlight .token.token.deleted:not(.prefix)::selection,pre>code.diff-highlight .token.token.deleted:not(.prefix) *::selection{background-color:hsla(353,95%,66%,.25)}pre.diff-highlight>code .token.token.inserted:not(.prefix),pre>code.diff-highlight .token.token.inserted:not(.prefix){background-color:hsla(137,100%,55%,.15)}pre.diff-highlight>code .token.token.inserted:not(.prefix)::-moz-selection,pre.diff-highlight>code .token.token.inserted:not(.prefix) *::-moz-selection,pre>code.diff-highlight .token.token.inserted:not(.prefix)::-moz-selection,pre>code.diff-highlight .token.token.inserted:not(.prefix) *::-moz-selection{background-color:hsla(135,73%,55%,.25)}pre.diff-highlight>code .token.token.inserted:not(.prefix)::selection,pre.diff-highlight>code .token.token.inserted:not(.prefix) *::selection,pre>code.diff-highlight .token.token.inserted:not(.prefix)::selection,pre>code.diff-highlight .token.token.inserted:not(.prefix) *::selection{background-color:hsla(135,73%,55%,.25)}.prism-previewer.prism-previewer:before,.prism-previewer-gradient.prism-previewer-gradient div{border-color:hsl(224,13%,17%)}.prism-previewer-color.prism-previewer-color:before,.prism-previewer-gradient.prism-previewer-gradient div,.prism-previewer-easing.prism-previewer-easing:before{-webkit-border-radius:.3em;-moz-border-radius:.3em;border-radius:.3em}.prism-previewer.prism-previewer:after{border-top-color:hsl(224,13%,17%)}.prism-previewer-flipped.prism-previewer-flipped.after{border-bottom-color:hsl(224,13%,17%)}.prism-previewer-angle.prism-previewer-angle:before,.prism-previewer-time.prism-previewer-time:before,.prism-previewer-easing.prism-previewer-easing{background:hsl(219,13%,22%)}.prism-previewer-angle.prism-previewer-angle circle,.prism-previewer-time.prism-previewer-time circle{stroke:hsl(220,14%,71%);stroke-opacity:1}.prism-previewer-easing.prism-previewer-easing circle,.prism-previewer-easing.prism-previewer-easing path,.prism-previewer-easing.prism-previewer-easing line{stroke:hsl(220,14%,71%)}.prism-previewer-easing.prism-previewer-easing circle{fill:transparent}</style><style id="__jsx-60c1546e9c741873">.dark h1,.dark h2,.dark h3,.dark h4,.dark h5,.dark h6{--tw-text-opacity:1;color:rgba(255,255,255,var(--tw-text-opacity))}h1 a,h2 a,h3 a,h4 a,h5 a,h6 a{border-style:none;float:left;margin-top:.125rem;margin-left:-1.25rem;opacity:0;padding-right:.5rem;text-decoration:none}h1 a .icon-link:before,h2 a .icon-link:before,h3 a .icon-link:before,h4 a .icon-link:before,h5 a .icon-link:before,h6 a .icon-link:before{content:"#"}h1:hover a,h1:focus a,h2:hover a,h2:focus a,h3:hover a,h3:focus a,h4:hover a,h4:focus a,h5:hover a,h5:focus a,h6:hover a,h6:focus a{opacity:1;text-decoration:none}a{-webkit-border-radius:.25rem;-moz-border-radius:.25rem;border-radius:.25rem;text-decoration:none;-webkit-transition-property:background-color,border-color,color,fill,stroke,opacity,-webkit-box-shadow,-webkit-transform,filter,backdrop-filter;-o-transition-property:background-color,border-color,color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;-moz-transition-timing-function:background-color,border-color,color,fill,stroke,opacity,box-shadow,-webkit-box-shadow,-moz-transform,-webkit-transform,filter,backdrop-filter;transition-property:background-color,border-color,color,fill,stroke,opacity,box-shadow,-webkit-box-shadow,-webkit-transform,-webkit-transform,-webkit-filter,backdrop-filter;transition-property:background-color,border-color,color,fill,stroke,opacity,box-shadow,-webkit-box-shadow,-moz-transform,-webkit-transform,filter,backdrop-filter;transition-property:background-color,border-color,color,fill,stroke,opacity,box-shadow,-webkit-box-shadow,-o-transform,-webkit-transform,filter,backdrop-filter;transition-property:background-color,border-color,color,fill,stroke,opacity,box-shadow,-webkit-box-shadow,transform,-webkit-transform,filter,backdrop-filter;-webkit-transition-timing-function:cubic-bezier(.4,0,.2,1);-o-transition-timing-function:cubic-bezier(.4,0,.2,1);-moz-transition-timing-function:cubic-bezier(.4,0,.2,1);transition-timing-function:cubic-bezier(.4,0,.2,1);-webkit-transition-duration:150ms;-o-transition-duration:150ms;-moz-transition-duration:150ms;transition-duration:150ms;-webkit-transition-duration:300ms;-o-transition-duration:300ms;-moz-transition-duration:300ms;transition-duration:300ms}a:focus{outline:2px solid transparent;outline-offset:2px;--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(4px + var(--tw-ring-offset-width)) var(--tw-ring-color);-webkit-box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow,0 0#0000);-moz-box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow,0 0#0000);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow,0 0#0000);--tw-ring-offset-width:2px;--tw-ring-opacity:1;--tw-ring-color:rgba(0, 114, 255, var(--tw-ring-opacity))}.dark a{--tw-text-opacity:1;color:rgba(255,255,255,var(--tw-text-opacity))}a .item{border-bottom-width:0px;opacity:.6;text-decoration:none;-webkit-transition-property:background-color,border-color,color,fill,stroke,opacity,-webkit-box-shadow,-webkit-transform,filter,backdrop-filter;-o-transition-property:background-color,border-color,color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;-moz-transition-timing-function:background-color,border-color,color,fill,stroke,opacity,box-shadow,-webkit-box-shadow,-moz-transform,-webkit-transform,filter,backdrop-filter;transition-property:background-color,border-color,color,fill,stroke,opacity,box-shadow,-webkit-box-shadow,-webkit-transform,-webkit-transform,-webkit-filter,backdrop-filter;transition-property:background-color,border-color,color,fill,stroke,opacity,box-shadow,-webkit-box-shadow,-moz-transform,-webkit-transform,filter,backdrop-filter;transition-property:background-color,border-color,color,fill,stroke,opacity,box-shadow,-webkit-box-shadow,-o-transform,-webkit-transform,filter,backdrop-filter;transition-property:background-color,border-color,color,fill,stroke,opacity,box-shadow,-webkit-box-shadow,transform,-webkit-transform,filter,backdrop-filter;-webkit-transition-timing-function:cubic-bezier(.4,0,.2,1);-o-transition-timing-function:cubic-bezier(.4,0,.2,1);-moz-transition-timing-function:cubic-bezier(.4,0,.2,1);transition-timing-function:cubic-bezier(.4,0,.2,1);-webkit-transition-duration:150ms;-o-transition-duration:150ms;-moz-transition-duration:150ms;transition-duration:150ms;-webkit-transition-duration:300ms;-o-transition-duration:300ms;-moz-transition-duration:300ms;transition-duration:300ms}a .item:hover{opacity:1}p,ul,li{--tw-text-opacity:1;color:rgba(105,108,113,var(--tw-text-opacity))}.dark strong{--tw-text-opacity:1;color:rgba(255,255,255,var(--tw-text-opacity))}img{-webkit-border-radius:1.5rem;-moz-border-radius:1.5rem;border-radius:1.5rem;-o-object-fit:cover;object-fit:cover;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-transition-property:background-color,border-color,color,fill,stroke,opacity,-webkit-box-shadow,-webkit-transform,filter,backdrop-filter;-o-transition-property:background-color,border-color,color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;-moz-transition-timing-function:background-color,border-color,color,fill,stroke,opacity,box-shadow,-webkit-box-shadow,-moz-transform,-webkit-transform,filter,backdrop-filter;transition-property:background-color,border-color,color,fill,stroke,opacity,box-shadow,-webkit-box-shadow,-webkit-transform,-webkit-transform,-webkit-filter,backdrop-filter;transition-property:background-color,border-color,color,fill,stroke,opacity,box-shadow,-webkit-box-shadow,-moz-transform,-webkit-transform,filter,backdrop-filter;transition-property:background-color,border-color,color,fill,stroke,opacity,box-shadow,-webkit-box-shadow,-o-transform,-webkit-transform,filter,backdrop-filter;transition-property:background-color,border-color,color,fill,stroke,opacity,box-shadow,-webkit-box-shadow,transform,-webkit-transform,filter,backdrop-filter;-webkit-transition-timing-function:cubic-bezier(.4,0,.2,1);-o-transition-timing-function:cubic-bezier(.4,0,.2,1);-moz-transition-timing-function:cubic-bezier(.4,0,.2,1);transition-timing-function:cubic-bezier(.4,0,.2,1);-webkit-transition-duration:150ms;-o-transition-duration:150ms;-moz-transition-duration:150ms;transition-duration:150ms;-webkit-transition-duration:300ms;-o-transition-duration:300ms;-moz-transition-duration:300ms;transition-duration:300ms}img:hover{--tw-shadow:0 20px 25px -5px rgb(0 0 0/0.1),0 8px 10px -6px rgb(0 0 0/0.1);--tw-shadow-colored:0 20px 25px -5px var(--tw-shadow-color),0 8px 10px -6px var(--tw-shadow-color);-webkit-box-shadow:var(--tw-ring-offset-shadow,0 0#0000),var(--tw-ring-shadow,0 0#0000),var(--tw-shadow);-moz-box-shadow:var(--tw-ring-offset-shadow,0 0#0000),var(--tw-ring-shadow,0 0#0000),var(--tw-shadow);box-shadow:var(--tw-ring-offset-shadow,0 0#0000),var(--tw-ring-shadow,0 0#0000),var(--tw-shadow)}figcaption{text-align:center;--tw-text-opacity:1;color:rgba(202,203,205,var(--tw-text-opacity))}.dark figcaption{--tw-text-opacity:1;color:rgba(105,108,113,var(--tw-text-opacity))}.dark hr{--tw-border-opacity:1;border-color:rgba(36,41,47,var(--tw-border-opacity))}hr{margin-top:1rem;margin-bottom:1rem}code{--tw-bg-opacity:1;background-color:rgba(234,234,235,var(--tw-bg-opacity));-webkit-border-radius:.25rem;-moz-border-radius:.25rem;border-radius:.25rem;padding:.25rem;--tw-text-opacity:1;color:rgba(105,108,113,var(--tw-text-opacity))}.dark code{--tw-bg-opacity:1;background-color:rgba(24,27,32,var(--tw-bg-opacity));--tw-text-opacity:1;color:rgba(202,203,205,var(--tw-text-opacity))}code:after,code:before{display:none}pre{--tw-bg-opacity:1;background-color:rgba(202,203,205,var(--tw-bg-opacity));--tw-border-opacity:1;border-color:rgba(234,234,235,var(--tw-border-opacity));-webkit-border-radius:.5rem;-moz-border-radius:.5rem;border-radius:.5rem;-webkit-border-top-left-radius:0px;-moz-border-radius-topleft:0px;border-top-left-radius:0px;-webkit-border-top-right-radius:0px;-moz-border-radius-topright:0px;border-top-right-radius:0px;border-width:2px;margin:0px}.dark pre{--tw-bg-opacity:1;background-color:rgba(18,21,24,var(--tw-bg-opacity));--tw-border-opacity:1;border-color:rgba(40,45,52,var(--tw-border-opacity));--tw-text-opacity:1;color:rgba(255,255,255,var(--tw-text-opacity))}.dark th{--tw-text-opacity:1;color:rgba(255,255,255,var(--tw-text-opacity))}.dark td{--tw-text-opacity:1;color:rgba(105,108,113,var(--tw-text-opacity))}.dark ol li::before{--tw-text-opacity:1;color:rgba(167,169,172,var(--tw-text-opacity))}.light .remark-code-title{--tw-bg-opacity:1;background-color:rgba(255,255,255,var(--tw-bg-opacity))}.remark-code-title{--tw-border-opacity:1;border-color:rgba(234,234,235,var(--tw-border-opacity));-webkit-border-radius:.5rem;-moz-border-radius:.5rem;border-radius:.5rem;-webkit-border-bottom-right-radius:0px;-moz-border-radius-bottomright:0px;border-bottom-right-radius:0px;-webkit-border-bottom-left-radius:0px;-moz-border-radius-bottomleft:0px;border-bottom-left-radius:0px;border-width:2px;border-bottom-width:0px;font-weight:500;padding-left:1rem;padding-right:1rem;padding-top:.5rem;padding-bottom:.5rem;--tw-text-opacity:1;color:rgba(167,169,172,var(--tw-text-opacity))}.dark .remark-code-title{--tw-border-opacity:1;border-color:rgba(40,45,52,var(--tw-border-opacity));--tw-text-opacity:1;color:rgba(255,255,255,var(--tw-text-opacity))}</style><style id="__jsx-3778973251">#nprogress .bar{height:.25rem;background-color:#0072ff}</style></head><body class="antialiased bg-gradient-to-br from-white via-gray-100 to-white dark:from-black from-20% dark:via-gray-700 dark:to-black to-80% font-inter text-gray-500 selection:bg-gray-900 selection:dark:bg-white selection:text-white selection:dark:text-primary-500"><div id="__next" data-reactroot><nav class="fixed top-0 left-0 w-full z-10" data-headlessui-state><div class="mx-auto px-2"><div class="relative flex items-center justify-between h-16"><div class="relative inline-block text-left" data-headlessui-state><button class="group relative inline-flex items-center px-3 py-2 bg-gray-50 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-900 dark:hover:bg-gray-700 dark:hover:text-white text-gray-400 rounded-lg text-sm font-medium default-transition default-focus" aria-label="Menu" id="headlessui-menu-button-undefined" aria-haspopup="menu" aria-expanded="false" data-headlessui-state><span></span></button></div><div class="relative inline-block text-left" data-headlessui-state><button class="group relative inline-flex items-center px-3 py-2 bg-gray-50 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-900 dark:hover:bg-gray-700 dark:hover:text-white text-gray-400 rounded-lg text-sm font-medium default-transition default-focus" aria-label="Settings" id="headlessui-menu-button-undefined" aria-haspopup="menu" aria-expanded="false" data-headlessui-state><span></span></button></div></div></div></nav><main class="flex flex-col justify-center sm:px-8"><div class="relative px-4 py-16 overflow-hidden"><div class="relative px-4 sm:px-6 lg:px-8"><div class="relative sm:max-w-2xl lg:sm:max-w-6xl mx-auto my-2 sm:my-4"><div class="w-full h-full h-64 lg:h-96 mb-8 bg-gray-200 dark:bg-gray-600 rounded-3xl motion-safe:animate-pulse"></div><span style="box-sizing:border-box;display:block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:absolute;top:0;left:0;bottom:0;right:0"><img alt="A photo of a forest overlooking the bright white sky in the background" draggable="false" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="fill" class="absolute top-0 left-0 w-full h-auto max-h-64 lg:max-h-96 mb-8 rounded-3xl object-cover select-none shadow-xl default-transition" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%"><noscript><img alt="A photo of a forest overlooking the bright white sky in the background" draggable="false" sizes="100vw" srcSet="/_next/image?url=https%3A%2F%2Fimages.unsplash.com%2Fphoto-1618401471353-b98afee0b2eb&amp;w=640&amp;q=75 640w, /_next/image?url=https%3A%2F%2Fimages.unsplash.com%2Fphoto-1618401471353-b98afee0b2eb&amp;w=750&amp;q=75 750w, /_next/image?url=https%3A%2F%2Fimages.unsplash.com%2Fphoto-1618401471353-b98afee0b2eb&amp;w=828&amp;q=75 828w, /_next/image?url=https%3A%2F%2Fimages.unsplash.com%2Fphoto-1618401471353-b98afee0b2eb&amp;w=1080&amp;q=75 1080w, /_next/image?url=https%3A%2F%2Fimages.unsplash.com%2Fphoto-1618401471353-b98afee0b2eb&amp;w=1200&amp;q=75 1200w, /_next/image?url=https%3A%2F%2Fimages.unsplash.com%2Fphoto-1618401471353-b98afee0b2eb&amp;w=1920&amp;q=75 1920w, /_next/image?url=https%3A%2F%2Fimages.unsplash.com%2Fphoto-1618401471353-b98afee0b2eb&amp;w=2048&amp;q=75 2048w, /_next/image?url=https%3A%2F%2Fimages.unsplash.com%2Fphoto-1618401471353-b98afee0b2eb&amp;w=3840&amp;q=75 3840w" src="image_2" decoding="async" data-nimg="fill" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%" class="absolute top-0 left-0 w-full h-auto max-h-64 lg:max-h-96 mb-8 rounded-3xl object-cover select-none shadow-xl default-transition" loading="lazy"></noscript></span></div><div class="flex flex-col space-y-4 max-w-prose mx-auto my-4 text-lg text-center"><div><span class="block text-primary-600 font-semibold tracking-wide uppercase text-base text-center">Guide</span><span class="text-gray-900 dark:text-white sm:text-4xl text-3xl text-center leading-8 font-extrabold tracking-tight">Using GitHub as a CMS</span></div><span class="flex justify-center items-center"><div class="inline-flex justify-center w-full sm:w-auto bg-primary-500 bg-opacity-15 backdrop-filter backdrop-blur-sm saturate-200 rounded-lg text-sm text-primary-500 px-4 py-2"><span></span>January 19th, 2022</div></span></div><article class="max-w-prose prose prose-primary prose-lg text-gray-500 mx-auto"><p>Since re-launching my website with an all new redesign I added a number of cool features. One such feature I thought worth sharing about was my <a href="projects.html">projects page</a> as it actually uses <a href="https://github.com">GitHub</a> as a CMS (Content Management System).</p><p>So, let&#x27;s go through and breakdown why I added this feature, why not use some other service &amp; of course how it works.</p><h2 id="-why"><a aria-hidden="true" tabindex="-1" href="#-why"><span class="icon icon-link"></span></a>❓<!-- --> Why</h2><hr><p>When re-designing my website I set out with a number of goals. One such goal was to retain a similar portfolio page to my existing website at the time which fetched all my GitHub repositories &amp; just listed them all.</p><p>However, I wanted to improve on this page by adding some sort of curation to it. Preferably via some method that is quick, easy to use, can be accessed from almost anywhere &amp; preferably free.</p><h2 id="️-headless-cms"><a aria-hidden="true" tabindex="-1" href="#️-headless-cms"><span class="icon icon-link"></span></a>☁️<!-- --> Headless CMS</h2><hr><p>I knew I needed some kind of headless CMS in some form to let me curate the content I wanted displayed, so I did some thinking &amp; some research.</p><p>I found most people were happy to recommend other headless CMS services like <a href="https://strapi.io/">Strapi</a>, <a href="https://www.sanity.io/">Sanity</a>, <a href="https://graphcms.com/">GraphCMS</a>, etc which did seem to do the job I wanted of providing a platform for me to curate &amp; manage my content without having to redeploy. But most of them had the same issues that I didn&#x27;t like.</p><h4 id="resilience"><a aria-hidden="true" tabindex="-1" href="#resilience"><span class="icon icon-link"></span></a>Resilience</h4><p>Is it overkill to try &amp; have your personal portfolio website to have a 99.999% uptime? Probably.</p><p>Does it matter if my website goes down? No. But I like to try &amp; treat as any other production environment &amp; where possible not add another possible point of failure. In this case being a 3rd party service to serve the data for my portfolio page.</p><p>If the 3rd party service goes down will my content somehow still be magically served by some cache somewhere until the service comes back online? Or is there just going to be no content served at all?</p><p>&quot;But you&#x27;re fetching from GitHub, right? So you&#x27;re still reliant on data from them&quot; Fair point, yes I am. However, I am both more likely to trust GitHub&#x27;s uptime &amp; platform resilience than a CMS service, and it&#x27;s easier to add in a fail safe so if GitHub does go down we can still serve content without them (More on this later).</p><h4 id="price"><a aria-hidden="true" tabindex="-1" href="#price"><span class="icon icon-link"></span></a>Price</h4><p>Some may call me cheap for this but another goal for my personal website is to be as cheap as possible. As of writing my website costs me $20/year to run. That&#x27;s it.</p><p>How? Simple. $20/year for a domain, code hosted GitHub &amp; deployed to <a href="https://vercel.com/home?utm_source=nuro&amp;utm_campaign=oss">Vercel</a>. It&#x27;s that cheap &amp; I want to keep it that way.</p><p>So, the idea of paying for another service, however nice a lot of them look, is just not for me. So I wanted to find an alternative that would serve the same function I need it to but for zero additional cost.</p><h2 id="-how"><a aria-hidden="true" tabindex="-1" href="#-how"><span class="icon icon-link"></span></a>🔨<!-- --> How</h2><hr><p>If you&#x27;d rather just look at the final code to see how it works, go check the <a href="https://github.com/nurodev/nuro.dev/blob/667b055043b94d894172085fee794c3849a3f25f/lib/projects.ts"><code>projects.ts</code></a> file in my websites GitHub repository.</p><p>The short version of how it works is this: Using <a href="https://github.com/topics">topics on GitHub</a> you can filter what content you do &amp; don&#x27;t want to show. In my case I have given all my chosen repositories a <code>portfolio</code> topic &amp; that will make the repository show up on my portfolio page.</p><p>To get this working there are 2 key things we&#x27;re going to need: <a href="https://nextjs.org/">Next.js</a> &amp; the <a href="https://docs.github.com">GitHub api</a>. Optionally you can also use some kind of cache, like <a href="https://upstash.com/">Upstash</a>, to cache your data &amp; save on requests to the GitHub api.</p><h3 id="fetching-repositories"><a aria-hidden="true" tabindex="-1" href="#fetching-repositories"><span class="icon icon-link"></span></a>Fetching repositories</h3><p>Starting off we will set up a base <code>getServerSideProps</code> function that will allow us to fetch the repository data on the server &amp; pass the data to the client.</p><div class="remark-code-title">portfolio.jsx</div><div class="remark-highlight"><pre class="language-jsx"><code class="language-jsx"><span class="token keyword module">export</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">getServerSideProps</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword control-flow">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">&#x27;https://api.github.com/users/GITHUB_USERNAME/repos&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword">const</span> json <span class="token operator">=</span> <span class="token keyword control-flow">await</span> response<span class="token punctuation">.</span><span class="token method function property-access">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword control-flow">return</span> <span class="token punctuation">{</span>
		<span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="repository-filtering"><a aria-hidden="true" tabindex="-1" href="#repository-filtering"><span class="icon icon-link"></span></a>Repository filtering</h3><p>Here is where we can add our own custom logic to curate the data based on the data returned from GitHub. In this example we&#x27;ll be filtering out all the repositories that both don&#x27;t have the <code>portfolio</code> topic &amp; are not archived.</p><div class="remark-code-title">portfolio.jsx</div><div class="remark-highlight"><pre class="language-jsx"><code class="language-jsx"><span class="token keyword module">export</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">getServerSideProps</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token comment">// ...</span>

	<span class="token keyword">const</span> repositories <span class="token operator">=</span> json<span class="token punctuation">.</span><span class="token method function property-access">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">repo</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
		<span class="token keyword control-flow">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>repo<span class="token punctuation">.</span><span class="token property-access">topics</span><span class="token punctuation">.</span><span class="token method function property-access">includes</span><span class="token punctuation">(</span><span class="token string">&#x27;portfolio&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword control-flow">return</span> <span class="token keyword null nil">null</span><span class="token punctuation">;</span>

		<span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>repo<span class="token punctuation">.</span><span class="token property-access">archived</span><span class="token punctuation">)</span> <span class="token keyword control-flow">return</span> <span class="token keyword null nil">null</span><span class="token punctuation">;</span>

		<span class="token keyword control-flow">return</span> repo<span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>
	<span class="token punctuation">.</span><span class="token method function property-access">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">project</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> project <span class="token operator">!==</span> <span class="token keyword null nil">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword control-flow">return</span> <span class="token punctuation">{</span>
		<span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span>
			repositories<span class="token punctuation">,</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="github-authentication"><a aria-hidden="true" tabindex="-1" href="#github-authentication"><span class="icon icon-link"></span></a>GitHub Authentication</h4><p>Next up is an optional step that I highly recommend to reduce the chance of hitting the GitHub api rate limit.</p><p>To complete this step you will first need to create a GitHub personal access token. You can follow the <a href="https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/creating-a-personal-access-token">official guide here</a>.</p><p>With your newly generated access token, add it to your <code>.env</code> file.</p><div class="remark-code-title">.env</div><div class="remark-highlight"><pre class="language-unknown"><code class="language-unknown">GITHUB_PAT=abc123</code></pre></div><p>With it added you can update your fetch request to add the token to your request headers.</p><div class="remark-code-title">portfolio.jsx</div><div class="remark-highlight"><pre class="language-jsx"><code class="language-jsx"><span class="token keyword module">export</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">getServerSideProps</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword control-flow">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">&#x27;https://api.github.com/users/GITHUB_USERNAME/repos&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
		<span class="token literal-property property">headers</span><span class="token operator">:</span> <span class="token punctuation">{</span>
			<span class="token literal-property property">authorization</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">token </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>process<span class="token punctuation">.</span><span class="token property-access">env</span><span class="token punctuation">.</span><span class="token constant">GITHUB_PAT</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="caching"><a aria-hidden="true" tabindex="-1" href="#caching"><span class="icon icon-link"></span></a>Caching</h4><p>This last step is also optional but can help with platform resilience &amp; response times. In short we&#x27;ll use some form of super fast caching database, like Redis, to store the request data after the first request &amp; from then on after serve the cached data instead of having to make multiple requests.</p><p>For my website I ended up using <a href="https://upstash.com">Upstash</a> which offers a single single Redis database for free. I recommend following their guide to <a href="https://docs.upstash.com/redis">get started setting up your first Redis database</a>.</p><p>With your database set up you should now have a <code>REDIS_URL</code> to add your <code>.env</code> file. It should look something like this <code>redis://USERNAME:PASSWORD@HOST:PORT</code>. Don&#x27;t worry if there isn&#x27;t a username.</p><div class="remark-code-title">.env</div><div class="remark-highlight"><pre class="language-unknown"><code class="language-unknown">GITHUB_PAT=abc123
REDIS_URL=redis://USERNAME:PASSWORD@HOST:PORT</code></pre></div><p>Now that we have a database to access we need a client to access it with. There&#x27;s a number of Redis client&#x27;s, including Upstash&#x27;s <a href="https://www.npmjs.com/package/@upstash/redis">own client</a>, but I personally prefer <code>ioredis</code> so that&#x27;s what I will be using for this example but any others should work fine. Install it as a development dependency.</p><div class="remark-code-title">Terminal</div><div class="remark-highlight"><pre class="language-zsh"><code class="language-zsh">npm install --save-dev ioredis</code></pre></div><p>Or using Yarn</p><div class="remark-code-title">Terminal</div><div class="remark-highlight"><pre class="language-zsh"><code class="language-zsh">yarn add -D ioredis</code></pre></div><p>With it now installed we can create a new client instance to connect to our database.</p><div class="remark-code-title">portfolio.jsx</div><div class="remark-highlight"><pre class="language-jsx"><code class="language-jsx"><span class="token keyword module">export</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">getServerSideProps</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">const</span> redis <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Redis</span><span class="token punctuation">(</span>process<span class="token punctuation">.</span><span class="token property-access">env</span><span class="token punctuation">.</span><span class="token constant">REDIS_URL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>Finally we can add the actual logic to check whether the cache already has the data we need &amp; if not we can fetch the data fresh from GitHub &amp; store it in the cache before we finally return it.</p><div class="remark-code-title">portfolio.jsx</div><div class="remark-highlight"><pre class="language-jsx"><code class="language-jsx"><span class="token keyword module">export</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">getServerSideProps</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token comment">// ...</span>

	<span class="token keyword">const</span> cache <span class="token operator">=</span> <span class="token keyword control-flow">await</span> redis<span class="token punctuation">.</span><span class="token method function property-access">get</span><span class="token punctuation">(</span><span class="token string">&#x27;repositories&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>cache <span class="token operator">!==</span> <span class="token keyword null nil">null</span><span class="token punctuation">)</span>
		<span class="token keyword control-flow">return</span> <span class="token punctuation">{</span>
			<span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span>
				<span class="token literal-property property">repositories</span><span class="token operator">:</span> cache<span class="token punctuation">,</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>

	<span class="token keyword">const</span> repositories <span class="token operator">=</span> <span class="token spread operator">...</span>

	redis<span class="token punctuation">.</span><span class="token method function property-access">set</span><span class="token punctuation">(</span><span class="token string">&#x27;repositories&#x27;</span><span class="token punctuation">,</span> <span class="token known-class-name class-name">JSON</span><span class="token punctuation">.</span><span class="token method function property-access">stringify</span><span class="token punctuation">(</span>repositories<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword control-flow">return</span> <span class="token punctuation">{</span>
		<span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span>
			repositories<span class="token punctuation">,</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="-conclusion"><a aria-hidden="true" tabindex="-1" href="#-conclusion"><span class="icon icon-link"></span></a>✅<!-- --> Conclusion</h2><hr><p>And that&#x27;s it, with all of that we have a very simple but resilient system that allows us to use GitHub to manage what content is displayed on our site, but also is not entirely reliant on GitHub so if there is any downtime for whatever reason on GitHub&#x27;s end we still have the data cached.</p><div class="remark-code-title">portfolio.jsx</div><div class="remark-highlight"><pre class="language-jsx"><code class="language-jsx"><span class="token keyword module">export</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">getServerSideProps</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">const</span> redis <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Redis</span><span class="token punctuation">(</span>process<span class="token punctuation">.</span><span class="token property-access">env</span><span class="token punctuation">.</span><span class="token constant">REDIS_URL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword">const</span> cache <span class="token operator">=</span> <span class="token keyword control-flow">await</span> redis<span class="token punctuation">.</span><span class="token method function property-access">get</span><span class="token punctuation">(</span><span class="token string">&#x27;repositories&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>cache <span class="token operator">!==</span> <span class="token keyword null nil">null</span><span class="token punctuation">)</span>
		<span class="token keyword control-flow">return</span> <span class="token punctuation">{</span>
			<span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span>
				<span class="token literal-property property">repositories</span><span class="token operator">:</span> cache<span class="token punctuation">,</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>

	<span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword control-flow">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">&#x27;https://api.github.com/users/GITHUB_USERNAME/repos&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
		<span class="token literal-property property">headers</span><span class="token operator">:</span> <span class="token punctuation">{</span>
			<span class="token literal-property property">authorization</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">token </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>process<span class="token punctuation">.</span><span class="token property-access">env</span><span class="token punctuation">.</span><span class="token constant">GITHUB_PAT</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword">const</span> json <span class="token operator">=</span> <span class="token keyword control-flow">await</span> response<span class="token punctuation">.</span><span class="token method function property-access">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword">const</span> repositories <span class="token operator">=</span> json<span class="token punctuation">.</span><span class="token method function property-access">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">repo</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
		<span class="token keyword control-flow">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>repo<span class="token punctuation">.</span><span class="token property-access">topics</span><span class="token punctuation">.</span><span class="token method function property-access">includes</span><span class="token punctuation">(</span><span class="token string">&#x27;portfolio&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword control-flow">return</span> <span class="token keyword null nil">null</span><span class="token punctuation">;</span>

		<span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>repo<span class="token punctuation">.</span><span class="token property-access">archived</span><span class="token punctuation">)</span> <span class="token keyword control-flow">return</span> <span class="token keyword null nil">null</span><span class="token punctuation">;</span>

		<span class="token keyword control-flow">return</span> repo<span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>
	<span class="token punctuation">.</span><span class="token method function property-access">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">project</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> project <span class="token operator">!==</span> <span class="token keyword null nil">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	redis<span class="token punctuation">.</span><span class="token method function property-access">set</span><span class="token punctuation">(</span><span class="token string">&#x27;repositories&#x27;</span><span class="token punctuation">,</span> <span class="token known-class-name class-name">JSON</span><span class="token punctuation">.</span><span class="token method function property-access">stringify</span><span class="token punctuation">(</span>repositories<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword control-flow">return</span> <span class="token punctuation">{</span>
		<span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span>
			repositories<span class="token punctuation">,</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">Page</span></span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> repositories <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword control-flow">return</span> <span class="token punctuation">(</span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>pre</span><span class="token punctuation">&gt;</span></span><span class="token plain-text"></span>
<span class="token plain-text">			</span><span class="token punctuation">{</span><span class="token known-class-name class-name">JSON</span><span class="token punctuation">.</span><span class="token method function property-access">stringify</span><span class="token punctuation">(</span>repositories<span class="token punctuation">,</span> <span class="token keyword null nil">null</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text"></span>
<span class="token plain-text">		</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>pre</span><span class="token punctuation">&gt;</span></span>
	<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></article></div></div></main></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"frontmatter":{"banner_alt":"A photo of a forest overlooking the bright white sky in the background","banner":"https://images.unsplash.com/photo-1618401471353-b98afee0b2eb","title_prefix":"Guide","title":"Using GitHub as a CMS","description":"Learn how to use GitHub as a CMS using server-side rendering from Next.js","date":"January 19th, 2022","slug":"using_github_as_a_cms"},"source":{"compiledSource":"var i=Object.defineProperty,l=Object.defineProperties;var d=Object.getOwnPropertyDescriptors;var p=Object.getOwnPropertySymbols;var o=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable;var r=(e,n,s)=\u003en in e?i(e,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[n]=s,a=(e,n)=\u003e{for(var s in n||(n={}))o.call(n,s)\u0026\u0026r(e,s,n[s]);if(p)for(var s of p(n))c.call(n,s)\u0026\u0026r(e,s,n[s]);return e},m=(e,n)=\u003el(e,d(n));var N=(e,n)=\u003e{var s={};for(var t in e)o.call(e,t)\u0026\u0026n.indexOf(t)\u003c0\u0026\u0026(s[t]=e[t]);if(e!=null\u0026\u0026p)for(var t of p(e))n.indexOf(t)\u003c0\u0026\u0026c.call(e,t)\u0026\u0026(s[t]=e[t]);return s};const layoutProps={},MDXLayout=\"wrapper\";function MDXContent(s){var t=s,{components:e}=t,n=N(t,[\"components\"]);return mdx(MDXLayout,m(a(a({},layoutProps),n),{components:e,mdxType:\"MDXLayout\"}),mdx(\"p\",null,\"Since re-launching my website with an all new redesign I added a number of cool features. One such feature I thought worth sharing about was my \",mdx(\"a\",a({parentName:\"p\"},{href:\"/portfolio\"}),\"projects page\"),\" as it actually uses \",mdx(\"a\",a({parentName:\"p\"},{href:\"https://github.com\"}),\"GitHub\"),\" as a CMS (Content Management System).\"),mdx(\"p\",null,\"So, let's go through and breakdown why I added this feature, why not use some other service \u0026 of course how it works.\"),mdx(\"h2\",a({},{id:\"-why\"}),mdx(\"a\",a({parentName:\"h2\"},{\"aria-hidden\":\"true\",tabIndex:-1,href:\"#-why\"}),mdx(\"span\",a({parentName:\"a\"},{className:\"icon icon-link\"}))),\"\\u2753\",\" Why\"),mdx(\"hr\",null),mdx(\"p\",null,\"When re-designing my website I set out with a number of goals. One such goal was to retain a similar portfolio page to my existing website at the time which fetched all my GitHub repositories \u0026 just listed them all.\"),mdx(\"p\",null,\"However, I wanted to improve on this page by adding some sort of curation to it. Preferably via some method that is quick, easy to use, can be accessed from almost anywhere \u0026 preferably free.\"),mdx(\"h2\",a({},{id:\"\\uFE0F-headless-cms\"}),mdx(\"a\",a({parentName:\"h2\"},{\"aria-hidden\":\"true\",tabIndex:-1,href:\"#\\uFE0F-headless-cms\"}),mdx(\"span\",a({parentName:\"a\"},{className:\"icon icon-link\"}))),\"\\u2601\\uFE0F\",\" Headless CMS\"),mdx(\"hr\",null),mdx(\"p\",null,\"I knew I needed some kind of headless CMS in some form to let me curate the content I wanted displayed, so I did some thinking \u0026 some research.\"),mdx(\"p\",null,\"I found most people were happy to recommend other headless CMS services like \",mdx(\"a\",a({parentName:\"p\"},{href:\"https://strapi.io/\"}),\"Strapi\"),\", \",mdx(\"a\",a({parentName:\"p\"},{href:\"https://www.sanity.io/\"}),\"Sanity\"),\", \",mdx(\"a\",a({parentName:\"p\"},{href:\"https://graphcms.com/\"}),\"GraphCMS\"),\", etc which did seem to do the job I wanted of providing a platform for me to curate \u0026 manage my content without having to redeploy. But most of them had the same issues that I didn't like.\"),mdx(\"h4\",a({},{id:\"resilience\"}),mdx(\"a\",a({parentName:\"h4\"},{\"aria-hidden\":\"true\",tabIndex:-1,href:\"#resilience\"}),mdx(\"span\",a({parentName:\"a\"},{className:\"icon icon-link\"}))),\"Resilience\"),mdx(\"p\",null,\"Is it overkill to try \u0026 have your personal portfolio website to have a 99.999% uptime? Probably.\"),mdx(\"p\",null,\"Does it matter if my website goes down? No. But I like to try \u0026 treat as any other production environment \u0026 where possible not add another possible point of failure. In this case being a 3rd party service to serve the data for my portfolio page.\"),mdx(\"p\",null,\"If the 3rd party service goes down will my content somehow still be magically served by some cache somewhere until the service comes back online? Or is there just going to be no content served at all?\"),mdx(\"p\",null,`\"But you're fetching from GitHub, right? So you're still reliant on data from them\" Fair point, yes I am. However, I am both more likely to trust GitHub's uptime \u0026 platform resilience than a CMS service, and it's easier to add in a fail safe so if GitHub does go down we can still serve content without them (More on this later).`),mdx(\"h4\",a({},{id:\"price\"}),mdx(\"a\",a({parentName:\"h4\"},{\"aria-hidden\":\"true\",tabIndex:-1,href:\"#price\"}),mdx(\"span\",a({parentName:\"a\"},{className:\"icon icon-link\"}))),\"Price\"),mdx(\"p\",null,\"Some may call me cheap for this but another goal for my personal website is to be as cheap as possible. As of writing my website costs me $20/year to run. That's it.\"),mdx(\"p\",null,\"How? Simple. $20/year for a domain, code hosted GitHub \u0026 deployed to \",mdx(\"a\",a({parentName:\"p\"},{href:\"https://vercel.com/home?utm_source=nuro\u0026utm_campaign=oss\"}),\"Vercel\"),\". It's that cheap \u0026 I want to keep it that way.\"),mdx(\"p\",null,\"So, the idea of paying for another service, however nice a lot of them look, is just not for me. So I wanted to find an alternative that would serve the same function I need it to but for zero additional cost.\"),mdx(\"h2\",a({},{id:\"-how\"}),mdx(\"a\",a({parentName:\"h2\"},{\"aria-hidden\":\"true\",tabIndex:-1,href:\"#-how\"}),mdx(\"span\",a({parentName:\"a\"},{className:\"icon icon-link\"}))),\"\\u{1F528}\",\" How\"),mdx(\"hr\",null),mdx(\"p\",null,\"If you'd rather just look at the final code to see how it works, go check the \",mdx(\"a\",a({parentName:\"p\"},{href:\"https://github.com/nurodev/nuro.dev/blob/667b055043b94d894172085fee794c3849a3f25f/lib/projects.ts\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"projects.ts\")),\" file in my websites GitHub repository.\"),mdx(\"p\",null,\"The short version of how it works is this: Using \",mdx(\"a\",a({parentName:\"p\"},{href:\"https://github.com/topics\"}),\"topics on GitHub\"),\" you can filter what content you do \u0026 don't want to show. In my case I have given all my chosen repositories a \",mdx(\"inlineCode\",{parentName:\"p\"},\"portfolio\"),\" topic \u0026 that will make the repository show up on my portfolio page.\"),mdx(\"p\",null,\"To get this working there are 2 key things we're going to need: \",mdx(\"a\",a({parentName:\"p\"},{href:\"https://nextjs.org/\"}),\"Next.js\"),\" \u0026 the \",mdx(\"a\",a({parentName:\"p\"},{href:\"https://docs.github.com\"}),\"GitHub api\"),\". Optionally you can also use some kind of cache, like \",mdx(\"a\",a({parentName:\"p\"},{href:\"https://upstash.com/\"}),\"Upstash\"),\", to cache your data \u0026 save on requests to the GitHub api.\"),mdx(\"h3\",a({},{id:\"fetching-repositories\"}),mdx(\"a\",a({parentName:\"h3\"},{\"aria-hidden\":\"true\",tabIndex:-1,href:\"#fetching-repositories\"}),mdx(\"span\",a({parentName:\"a\"},{className:\"icon icon-link\"}))),\"Fetching repositories\"),mdx(\"p\",null,\"Starting off we will set up a base \",mdx(\"inlineCode\",{parentName:\"p\"},\"getServerSideProps\"),\" function that will allow us to fetch the repository data on the server \u0026 pass the data to the client.\"),mdx(\"div\",a({},{className:\"remark-code-title\"}),\"portfolio.jsx\"),mdx(\"div\",a({},{className:\"remark-highlight\"}),mdx(\"pre\",a({parentName:\"div\"},{className:\"language-jsx\"}),mdx(\"code\",a({parentName:\"pre\"},{className:\"language-jsx\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword module\"}),\"export\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"async\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"function\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token function\"}),\"getServerSideProps\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"const\"),\" response \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"=\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword control-flow\"}),\"await\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token function\"}),\"fetch\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),\"'https://api.github.com/users/GITHUB_USERNAME/repos'\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n\n\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"const\"),\" json \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"=\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword control-flow\"}),\"await\"),\" response\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token method function property-access\"}),\"json\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n\n\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword control-flow\"}),\"return\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n\t\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token literal-property property\"}),\"props\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n`))),mdx(\"h3\",a({},{id:\"repository-filtering\"}),mdx(\"a\",a({parentName:\"h3\"},{\"aria-hidden\":\"true\",tabIndex:-1,href:\"#repository-filtering\"}),mdx(\"span\",a({parentName:\"a\"},{className:\"icon icon-link\"}))),\"Repository filtering\"),mdx(\"p\",null,\"Here is where we can add our own custom logic to curate the data based on the data returned from GitHub. In this example we'll be filtering out all the repositories that both don't have the \",mdx(\"inlineCode\",{parentName:\"p\"},\"portfolio\"),\" topic \u0026 are not archived.\"),mdx(\"div\",a({},{className:\"remark-code-title\"}),\"portfolio.jsx\"),mdx(\"div\",a({},{className:\"remark-highlight\"}),mdx(\"pre\",a({parentName:\"div\"},{className:\"language-jsx\"}),mdx(\"code\",a({parentName:\"pre\"},{className:\"language-jsx\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword module\"}),\"export\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"async\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"function\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token function\"}),\"getServerSideProps\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token comment\"}),\"// ...\"),`\n\n\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"const\"),\" repositories \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"=\"),\" json\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token method function property-access\"}),\"map\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token parameter\"}),\"repo\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token arrow operator\"}),\"=\u003e\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n\t\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword control-flow\"}),\"if\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"!\"),\"repo\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token property-access\"}),\"topics\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token method function property-access\"}),\"includes\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),\"'portfolio'\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword control-flow\"}),\"return\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword null nil\"}),\"null\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n\n\t\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword control-flow\"}),\"if\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),\"repo\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token property-access\"}),\"archived\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword control-flow\"}),\"return\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword null nil\"}),\"null\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n\n\t\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword control-flow\"}),\"return\"),\" repo\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),`\n\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token method function property-access\"}),\"filter\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token parameter\"}),\"project\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token arrow operator\"}),\"=\u003e\"),\" project \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"!==\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword null nil\"}),\"null\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n\n\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword control-flow\"}),\"return\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n\t\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token literal-property property\"}),\"props\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n\t\t\trepositories`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n\t\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n`))),mdx(\"h4\",a({},{id:\"github-authentication\"}),mdx(\"a\",a({parentName:\"h4\"},{\"aria-hidden\":\"true\",tabIndex:-1,href:\"#github-authentication\"}),mdx(\"span\",a({parentName:\"a\"},{className:\"icon icon-link\"}))),\"GitHub Authentication\"),mdx(\"p\",null,\"Next up is an optional step that I highly recommend to reduce the chance of hitting the GitHub api rate limit.\"),mdx(\"p\",null,\"To complete this step you will first need to create a GitHub personal access token. You can follow the \",mdx(\"a\",a({parentName:\"p\"},{href:\"https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/creating-a-personal-access-token\"}),\"official guide here\"),\".\"),mdx(\"p\",null,\"With your newly generated access token, add it to your \",mdx(\"inlineCode\",{parentName:\"p\"},\".env\"),\" file.\"),mdx(\"div\",a({},{className:\"remark-code-title\"}),\".env\"),mdx(\"div\",a({},{className:\"remark-highlight\"}),mdx(\"pre\",a({parentName:\"div\"},{className:\"language-unknown\"}),mdx(\"code\",a({parentName:\"pre\"},{className:\"language-unknown\"}),\"GITHUB_PAT=abc123\"))),mdx(\"p\",null,\"With it added you can update your fetch request to add the token to your request headers.\"),mdx(\"div\",a({},{className:\"remark-code-title\"}),\"portfolio.jsx\"),mdx(\"div\",a({},{className:\"remark-highlight\"}),mdx(\"pre\",a({parentName:\"div\"},{className:\"language-jsx\"}),mdx(\"code\",a({parentName:\"pre\"},{className:\"language-jsx\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword module\"}),\"export\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"async\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"function\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token function\"}),\"getServerSideProps\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"const\"),\" response \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"=\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword control-flow\"}),\"await\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token function\"}),\"fetch\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),\"'https://api.github.com/users/GITHUB_USERNAME/repos'\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n\t\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token literal-property property\"}),\"headers\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n\t\t\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token literal-property property\"}),\"authorization\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token template-string\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token template-punctuation string\"}),\"`\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token string\"}),\"token \"),mdx(\"span\",a({parentName:\"span\"},{className:\"token interpolation\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token interpolation-punctuation punctuation\"}),\"${\"),\"process\",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\".\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token property-access\"}),\"env\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\".\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token constant\"}),\"GITHUB_PAT\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token interpolation-punctuation punctuation\"}),\"}\")),mdx(\"span\",a({parentName:\"span\"},{className:\"token template-punctuation string\"}),\"`\")),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n\t\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n\n\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token comment\"}),\"// ...\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n`))),mdx(\"h4\",a({},{id:\"caching\"}),mdx(\"a\",a({parentName:\"h4\"},{\"aria-hidden\":\"true\",tabIndex:-1,href:\"#caching\"}),mdx(\"span\",a({parentName:\"a\"},{className:\"icon icon-link\"}))),\"Caching\"),mdx(\"p\",null,\"This last step is also optional but can help with platform resilience \u0026 response times. In short we'll use some form of super fast caching database, like Redis, to store the request data after the first request \u0026 from then on after serve the cached data instead of having to make multiple requests.\"),mdx(\"p\",null,\"For my website I ended up using \",mdx(\"a\",a({parentName:\"p\"},{href:\"https://upstash.com\"}),\"Upstash\"),\" which offers a single single Redis database for free. I recommend following their guide to \",mdx(\"a\",a({parentName:\"p\"},{href:\"https://docs.upstash.com/redis\"}),\"get started setting up your first Redis database\"),\".\"),mdx(\"p\",null,\"With your database set up you should now have a \",mdx(\"inlineCode\",{parentName:\"p\"},\"REDIS_URL\"),\" to add your \",mdx(\"inlineCode\",{parentName:\"p\"},\".env\"),\" file. It should look something like this \",mdx(\"inlineCode\",{parentName:\"p\"},\"redis://USERNAME:PASSWORD@HOST:PORT\"),\". Don't worry if there isn't a username.\"),mdx(\"div\",a({},{className:\"remark-code-title\"}),\".env\"),mdx(\"div\",a({},{className:\"remark-highlight\"}),mdx(\"pre\",a({parentName:\"div\"},{className:\"language-unknown\"}),mdx(\"code\",a({parentName:\"pre\"},{className:\"language-unknown\"}),`GITHUB_PAT=abc123\nREDIS_URL=redis://USERNAME:PASSWORD@HOST:PORT`))),mdx(\"p\",null,\"Now that we have a database to access we need a client to access it with. There's a number of Redis client's, including Upstash's \",mdx(\"a\",a({parentName:\"p\"},{href:\"https://www.npmjs.com/package/@upstash/redis\"}),\"own client\"),\", but I personally prefer \",mdx(\"inlineCode\",{parentName:\"p\"},\"ioredis\"),\" so that's what I will be using for this example but any others should work fine. Install it as a development dependency.\"),mdx(\"div\",a({},{className:\"remark-code-title\"}),\"Terminal\"),mdx(\"div\",a({},{className:\"remark-highlight\"}),mdx(\"pre\",a({parentName:\"div\"},{className:\"language-zsh\"}),mdx(\"code\",a({parentName:\"pre\"},{className:\"language-zsh\"}),\"npm install --save-dev ioredis\"))),mdx(\"p\",null,\"Or using Yarn\"),mdx(\"div\",a({},{className:\"remark-code-title\"}),\"Terminal\"),mdx(\"div\",a({},{className:\"remark-highlight\"}),mdx(\"pre\",a({parentName:\"div\"},{className:\"language-zsh\"}),mdx(\"code\",a({parentName:\"pre\"},{className:\"language-zsh\"}),\"yarn add -D ioredis\"))),mdx(\"p\",null,\"With it now installed we can create a new client instance to connect to our database.\"),mdx(\"div\",a({},{className:\"remark-code-title\"}),\"portfolio.jsx\"),mdx(\"div\",a({},{className:\"remark-highlight\"}),mdx(\"pre\",a({parentName:\"div\"},{className:\"language-jsx\"}),mdx(\"code\",a({parentName:\"pre\"},{className:\"language-jsx\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword module\"}),\"export\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"async\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"function\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token function\"}),\"getServerSideProps\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"const\"),\" redis \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"=\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"new\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token class-name\"}),\"Redis\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),\"process\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token property-access\"}),\"env\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token constant\"}),\"REDIS_URL\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n\n\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token comment\"}),\"// ...\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n`))),mdx(\"p\",null,\"Finally we can add the actual logic to check whether the cache already has the data we need \u0026 if not we can fetch the data fresh from GitHub \u0026 store it in the cache before we finally return it.\"),mdx(\"div\",a({},{className:\"remark-code-title\"}),\"portfolio.jsx\"),mdx(\"div\",a({},{className:\"remark-highlight\"}),mdx(\"pre\",a({parentName:\"div\"},{className:\"language-jsx\"}),mdx(\"code\",a({parentName:\"pre\"},{className:\"language-jsx\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword module\"}),\"export\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"async\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"function\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token function\"}),\"getServerSideProps\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token comment\"}),\"// ...\"),`\n\n\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"const\"),\" cache \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"=\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword control-flow\"}),\"await\"),\" redis\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token method function property-access\"}),\"get\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),\"'repositories'\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword control-flow\"}),\"if\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),\"cache \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"!==\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword null nil\"}),\"null\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),`\n\t\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword control-flow\"}),\"return\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n\t\t\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token literal-property property\"}),\"props\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n\t\t\t\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token literal-property property\"}),\"repositories\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" cache\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n\t\t\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n\t\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n\n\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"const\"),\" repositories \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"=\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token spread operator\"}),\"...\"),`\n\n\tredis`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token method function property-access\"}),\"set\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),\"'repositories'\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token known-class-name class-name\"}),\"JSON\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token method function property-access\"}),\"stringify\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),\"repositories\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n\n\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword control-flow\"}),\"return\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n\t\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token literal-property property\"}),\"props\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n\t\t\trepositories`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n\t\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n`))),mdx(\"h2\",a({},{id:\"-conclusion\"}),mdx(\"a\",a({parentName:\"h2\"},{\"aria-hidden\":\"true\",tabIndex:-1,href:\"#-conclusion\"}),mdx(\"span\",a({parentName:\"a\"},{className:\"icon icon-link\"}))),\"\\u2705\",\" Conclusion\"),mdx(\"hr\",null),mdx(\"p\",null,\"And that's it, with all of that we have a very simple but resilient system that allows us to use GitHub to manage what content is displayed on our site, but also is not entirely reliant on GitHub so if there is any downtime for whatever reason on GitHub's end we still have the data cached.\"),mdx(\"div\",a({},{className:\"remark-code-title\"}),\"portfolio.jsx\"),mdx(\"div\",a({},{className:\"remark-highlight\"}),mdx(\"pre\",a({parentName:\"div\"},{className:\"language-jsx\"}),mdx(\"code\",a({parentName:\"pre\"},{className:\"language-jsx\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword module\"}),\"export\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"async\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"function\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token function\"}),\"getServerSideProps\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"const\"),\" redis \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"=\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"new\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token class-name\"}),\"Redis\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),\"process\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token property-access\"}),\"env\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token constant\"}),\"REDIS_URL\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n\n\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"const\"),\" cache \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"=\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword control-flow\"}),\"await\"),\" redis\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token method function property-access\"}),\"get\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),\"'repositories'\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword control-flow\"}),\"if\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),\"cache \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"!==\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword null nil\"}),\"null\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),`\n\t\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword control-flow\"}),\"return\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n\t\t\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token literal-property property\"}),\"props\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n\t\t\t\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token literal-property property\"}),\"repositories\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" cache\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n\t\t\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n\t\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n\n\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"const\"),\" response \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"=\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword control-flow\"}),\"await\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token function\"}),\"fetch\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),\"'https://api.github.com/users/GITHUB_USERNAME/repos'\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n\t\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token literal-property property\"}),\"headers\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n\t\t\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token literal-property property\"}),\"authorization\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token template-string\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token template-punctuation string\"}),\"`\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token string\"}),\"token \"),mdx(\"span\",a({parentName:\"span\"},{className:\"token interpolation\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token interpolation-punctuation punctuation\"}),\"${\"),\"process\",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\".\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token property-access\"}),\"env\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\".\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token constant\"}),\"GITHUB_PAT\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token interpolation-punctuation punctuation\"}),\"}\")),mdx(\"span\",a({parentName:\"span\"},{className:\"token template-punctuation string\"}),\"`\")),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n\t\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n\n\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"const\"),\" json \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"=\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword control-flow\"}),\"await\"),\" response\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token method function property-access\"}),\"json\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n\n\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"const\"),\" repositories \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"=\"),\" json\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token method function property-access\"}),\"map\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token parameter\"}),\"repo\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token arrow operator\"}),\"=\u003e\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n\t\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword control-flow\"}),\"if\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"!\"),\"repo\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token property-access\"}),\"topics\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token method function property-access\"}),\"includes\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),\"'portfolio'\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword control-flow\"}),\"return\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword null nil\"}),\"null\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n\n\t\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword control-flow\"}),\"if\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),\"repo\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token property-access\"}),\"archived\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword control-flow\"}),\"return\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword null nil\"}),\"null\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n\n\t\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword control-flow\"}),\"return\"),\" repo\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),`\n\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token method function property-access\"}),\"filter\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token parameter\"}),\"project\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token arrow operator\"}),\"=\u003e\"),\" project \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"!==\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword null nil\"}),\"null\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n\n\tredis`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token method function property-access\"}),\"set\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),\"'repositories'\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token known-class-name class-name\"}),\"JSON\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token method function property-access\"}),\"stringify\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),\"repositories\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n\n\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword control-flow\"}),\"return\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n\t\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token literal-property property\"}),\"props\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n\t\t\trepositories`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n\t\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword module\"}),\"export\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword module\"}),\"default\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"function\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token function\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token maybe-class-name\"}),\"Page\")),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token parameter\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"{\"),\" repositories \",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"}\")),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword control-flow\"}),\"return\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),`\n\t\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token tag\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token tag\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"\u003c\"),\"pre\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"\u003e\")),mdx(\"span\",a({parentName:\"code\"},{className:\"token plain-text\"})),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token plain-text\"}),\"\t\t\t\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token known-class-name class-name\"}),\"JSON\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token method function property-access\"}),\"stringify\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),\"repositories\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword null nil\"}),\"null\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token number\"}),\"4\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token plain-text\"})),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token plain-text\"}),\"\t\t\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token tag\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token tag\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"\u003c/\"),\"pre\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"\u003e\")),`\n\t`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`))))}MDXContent.isMDXComponent=!0;\n","scope":{"banner_alt":"A photo of a forest overlooking the bright white sky in the background","banner":"https://images.unsplash.com/photo-1618401471353-b98afee0b2eb","title_prefix":"Guide","title":"Using GitHub as a CMS","description":"Learn how to use GitHub as a CMS using server-side rendering from Next.js","date":"2022-01-19"}}}},"__N_SSG":true},"page":"/blog/[slug]","query":{"slug":"using_github_as_a_cms"},"buildId":"hLkizX55R1YurHFaGQBsn","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>